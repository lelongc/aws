
## ğŸ—‚ï¸ Tá»•ng Quan Storage CÆ¡ Báº£n trÃªn AWS: Block, File, Object & Hiá»‡u NÄƒng

---

## 1. Má»™t sá»‘ thuáº­t ngá»¯ storage quan trá»ng
<img width="833" height="431" alt="image" src="https://github.com/user-attachments/assets/8c6500f9-2ce9-4a02-9dc1-65959b71bc75" />

### **1.1. Direct Attached Storage (DAS) / Local Attached**
- **Äá»‹nh nghÄ©a:** á»” Ä‘Ä©a váº­t lÃ½ gáº¯n trá»±c tiáº¿p vÃ o mÃ¡y (laptop/server).
- **AWS:** **Instance Store** (Ä‘Ä©a gáº¯n trá»±c tiáº¿p vÃ o EC2 host).
- **Æ¯u Ä‘iá»ƒm:** Ráº¥t nhanh (super fast).
- **NhÆ°á»£c Ä‘iá»ƒm:**  
  - Máº¥t dá»¯ liá»‡u náº¿u á»• cá»©ng hoáº·c host bá»‹ há»ng.
  - Máº¥t dá»¯ liá»‡u náº¿u EC2 instance di chuyá»ƒn host.

### **1.2. Network Attached Storage (NAS)**
- **Äá»‹nh nghÄ©a:** Storage truy cáº­p qua máº¡ng.
- **AWS:** **Elastic Block Store (EBS)**
- **Æ¯u Ä‘iá»ƒm:** Persistent (dá»¯ liá»‡u bá»n vá»¯ng), tÃ¡ch biá»‡t vá»›i EC2 host, highly resilient.

### **1.3. Ephemeral vs Persistent Storage**
- **Ephemeral Storage:** Storage táº¡m thá»i, khÃ´ng Ä‘áº£m báº£o lÆ°u lÃ¢u dÃ i (vÃ­ dá»¥: Instance Store).
- **Persistent Storage:** Storage tá»“n táº¡i bá»n vá»¯ng, ngay cáº£ khi instance bá»‹ terminate (vÃ­ dá»¥: EBS).

---

## 2. CÃ¡c loáº¡i storage chÃ­nh trÃªn AWS
<img width="837" height="464" alt="image" src="https://github.com/user-attachments/assets/0ba1c675-e4ab-4322-be15-7a7926b91380" />

### **2.1. Block Storage**
- **Äá»‹nh nghÄ©a:** Táº­p há»£p cÃ¡c block dá»¯ liá»‡u khÃ´ng cÃ³ cáº¥u trÃºc (structure), OS sáº½ táº¡o file system trÃªn Ä‘Ã³.
- **AWS:** **EBS Volumes**
- **Äiá»ƒm cáº§n nhá»›:**
    - CÃ³ thá»ƒ boot OS tá»« EBS volume (bootable).
    - DÃ¹ng cho: OS, databases, workloads cáº§n hiá»‡u nÄƒng cao.
    - CÃ³ cáº£ SSD & HDD.

### **2.2. File Storage**
- **Äá»‹nh nghÄ©a:** File system chia sáº», truy cáº­p qua máº¡ng.
- **AWS:** **Amazon EFS**
- **Äiá»ƒm cáº§n nhá»›:**
    - Nhiá»u server cÃ³ thá»ƒ mount cÃ¹ng 1 file system (shared access).
    - KhÃ´ng boot Ä‘Æ°á»£c tá»« file storage.
    - DÃ¹ng cho: Dá»¯ liá»‡u chia sáº» giá»¯a nhiá»u app/server.

### **2.3. Object Storage**
- **Äá»‹nh nghÄ©a:** LÆ°u trá»¯ dáº¡ng object (key-value), khÃ´ng cÃ³ hierarchy.
- **AWS:** **Amazon S3**
- **Äiá»ƒm cáº§n nhá»›:**
    - SiÃªu scalable, truy cáº­p báº±ng key.
    - KhÃ´ng mount Ä‘Æ°á»£c, khÃ´ng boot Ä‘Æ°á»£c.
    - DÃ¹ng cho: Backup, media, static web, data lake.

---

## 3. CÃ¡c chá»‰ sá»‘ Ä‘Ã¡nh giÃ¡ hiá»‡u nÄƒng storage
<img width="809" height="478" alt="image" src="https://github.com/user-attachments/assets/86830d1a-5307-4862-9bd9-17995a32153a" />

### **3.1. IO/Block Size-kÃ­ch cá»¡ bÃ¡nh xe**
- **Ã nghÄ©a:** KÃ­ch thÆ°á»›c má»—i láº§n Ä‘á»c/ghi (4KB, 16KB, v.v.)
- **áº¢nh hÆ°á»Ÿng:** Block size lá»›n â†’ cáº§n Ã­t IOPS hÆ¡n cho cÃ¹ng throughput.

### **3.2. IOPS (Input/Output Operations per Second)-tá»‘c Ä‘á»™ xe**
- **Ã nghÄ©a:** Sá»‘ lÆ°á»£ng thao tÃ¡c Ä‘á»c/ghi má»—i giÃ¢y (Ä‘Æ¡n vá»‹: operations/second).
- **áº¢nh hÆ°á»Ÿng:** IOPS cao â†’ tá»‘t cho workload random access (vÃ­ dá»¥: database).

### **3.3. Throughput-tá»‘c Ä‘á»™ tá»•ng thá»ƒ cá»§a xe**
- **Ã nghÄ©a:** Tá»•ng lÆ°á»£ng dá»¯ liá»‡u truyá»n má»—i giÃ¢y (MB/s).
- **CÃ´ng thá»©c:** Throughput = Block Size Ã— IOPS.
- **áº¢nh hÆ°á»Ÿng:** Quan trá»ng cho workload Ä‘á»c/ghi tuáº§n tá»± lá»›n (data warehouse, analytics).

---

## 4. Chá»n loáº¡i storage nÃ o cho tá»«ng bÃ i toÃ¡n?

| **Nhu cáº§u**                            | **Loáº¡i AWS storage nÃªn chá»n**      |
|-----------------------------------------|------------------------------------|
| Boot EC2 instance                      | **EBS (Block Storage)**            |
| In-memory database (Redis)              | **EBS (Block Storage)**            |
| Chia sáº» file giá»¯a nhiá»u server/app      | **EFS (File Storage)**             |
| LÆ°u trá»¯ object, media, backup lá»›n       | **S3 (Object Storage)**            |
| á»¨ng dá»¥ng cáº§n nhiá»u IOPS (database OLTP) | **EBS SSD (Block Storage)**        |
| Workload tuáº§n tá»±, backup lá»›n            | **EBS HDD (Block Storage), S3**    |

---

## 5. Tips Ä‘i thi & thá»±c táº¿

### **5.1. Äáº·c Ä‘iá»ƒm tá»«ng loáº¡i storage (nhá»› cho exam/interview)**
- **Block (EBS):** Bootable, OS táº¡o file system, hiá»‡u nÄƒng cao.
- **File (EFS):** Chia sáº» giá»¯a nhiá»u server, khÃ´ng boot Ä‘Æ°á»£c.
- **Object (S3):** LÆ°u object, scale tá»‘t, khÃ´ng boot/mount Ä‘Æ°á»£c.

### **5.2. Hiá»‡u nÄƒng storage**
- **IOPS:** Cá»±c quan trá»ng cho transactional (database, logs).
- **Throughput:** Cá»±c quan trá»ng cho sequential workload (data warehouse).
- **Block size:** áº¢nh hÆ°á»Ÿng throughput, block cÃ ng lá»›n â†’ throughput cÃ ng cao (náº¿u IOPS Ä‘á»§ lá»›n).

### **5.3. CÃ¢u há»i exam hay gáº·p**
1. **"Storage nÃ o ephemeral?"** â†’ Instance Store
2. **"Storage nÃ o boot Ä‘Æ°á»£c EC2?"** â†’ EBS (Block)
3. **"Storage chia sáº» nhiá»u server?"** â†’ EFS (File)
4. **"LÆ°u trá»¯ web-scale, scalable object?"** â†’ S3 (Object)

---

## 6. Best Practices thá»±c táº¿

- **EC2 production:** LuÃ´n dÃ¹ng EBS cho boot, S3 cho backup, EFS cho file share.
- **Database:** LuÃ´n chá»n EBS SSD, monitor IOPS.
- **Scale-out app:** LÆ°u logs/data táº¡m á»Ÿ Instance Store, dá»¯ liá»‡u quan trá»ng á»Ÿ EBS hoáº·c S3.
- **Big Data/Analytics:** DÃ¹ng S3 lÃ m data lake, ETL input/output.

??? info "data lake vÃ  ETL input/output"
  
    ### 1. Data Lake (Há»“ dá»¯ liá»‡u) lÃ  gÃ¬?
    
    * **Äá»‹nh nghÄ©a:** Data Lake lÃ  má»™t kho lÆ°u trá»¯ táº­p trung cho phÃ©p báº¡n lÆ°u trá»¯ táº¥t cáº£ dá»¯ liá»‡u cá»§a mÃ¬nh, dÃ¹ á»Ÿ dáº¡ng cÃ³ cáº¥u trÃºc (structured), bÃ¡n cáº¥u trÃºc (semi-structured), hay phi cáº¥u trÃºc (unstructured), á»Ÿ báº¥t ká»³ quy mÃ´ nÃ o.
    * **Äiá»ƒm khÃ¡c biá»‡t chÃ­nh:**
        * **Data Warehouse (Kho dá»¯ liá»‡u):** LÆ°u trá»¯ dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c xá»­ lÃ½, Ä‘Ã£ cÃ³ cáº¥u trÃºc, Ä‘Æ°á»£c tá»• chá»©c vÃ  tá»‘i Æ°u hÃ³a cho cÃ¡c truy váº¥n phÃ¢n tÃ­ch. Báº¡n pháº£i xÃ¡c Ä‘á»‹nh lÆ°á»£c Ä‘á»“ (schema) trÆ°á»›c khi Ä‘Æ°a dá»¯ liá»‡u vÃ o.
        * **Data Lake:** LÆ°u trá»¯ dá»¯ liá»‡u á»Ÿ dáº¡ng thÃ´ (raw data). Báº¡n cÃ³ thá»ƒ Ä‘Æ°a dá»¯ liá»‡u vÃ o trÆ°á»›c, sau Ä‘Ã³ má»›i xÃ¡c Ä‘á»‹nh lÆ°á»£c Ä‘á»“ vÃ  cáº¥u trÃºc dá»¯ liá»‡u khi cáº§n sá»­ dá»¥ng (schema-on-read).
    * **Æ¯u Ä‘iá»ƒm cá»§a Data Lake:**
        * **Linh hoáº¡t:** Há»— trá»£ nhiá»u loáº¡i dá»¯ liá»‡u khÃ¡c nhau, tá»« dá»¯ liá»‡u kinh doanh thÃ´ng thÆ°á»ng Ä‘áº¿n dá»¯ liá»‡u tá»« IoT, máº¡ng xÃ£ há»™i, v.v.
        * **Kháº£ nÄƒng má»Ÿ rá»™ng:** CÃ³ thá»ƒ má»Ÿ rá»™ng dung lÆ°á»£ng lÆ°u trá»¯ má»™t cÃ¡ch dá»… dÃ ng vÃ  tiáº¿t kiá»‡m chi phÃ­.
        * **TÄƒng tá»‘c Ä‘á»™ phÃ¢n tÃ­ch:** GiÃºp cÃ¡c nhÃ  khoa há»c dá»¯ liá»‡u vÃ  ká»¹ sÆ° phÃ¢n tÃ­ch cÃ³ thá»ƒ khÃ¡m phÃ¡ vÃ  phÃ¢n tÃ­ch dá»¯ liá»‡u nhanh hÆ¡n, mÃ  khÃ´ng cáº§n pháº£i chá» Ä‘á»£i quÃ¡ trÃ¬nh xá»­ lÃ½ ETL hoÃ n chá»‰nh.
    * **NhÆ°á»£c Ä‘iá»ƒm cá»§a Data Lake:**
        * Náº¿u khÃ´ng Ä‘Æ°á»£c quáº£n lÃ½ cáº©n tháº­n, Data Lake cÃ³ thá»ƒ trá»Ÿ thÃ nh "data swamp" (Ä‘áº§m láº§y dá»¯ liá»‡u), nÆ¡i dá»¯ liá»‡u lá»™n xá»™n, khÃ´ng thá»ƒ tÃ¬m tháº¥y vÃ  khÃ´ng cÃ³ giÃ¡ trá»‹.
    
    ### 2. ETL (Extract, Transform, Load) Input/Output lÃ  gÃ¬?
    
    **ETL** lÃ  viáº¿t táº¯t cá»§a ba bÆ°á»›c chÃ­nh trong má»™t quy trÃ¬nh xá»­ lÃ½ dá»¯ liá»‡u:
    
    * **E - Extract (TrÃ­ch xuáº¥t):** QuÃ¡ trÃ¬nh láº¥y dá»¯ liá»‡u tá»« cÃ¡c nguá»“n khÃ¡c nhau.
        * **ETL Input (Äáº§u vÃ o cá»§a ETL):** ÄÃ¢y lÃ  cÃ¡c nguá»“n dá»¯ liá»‡u thÃ´, ban Ä‘áº§u. ChÃºng cÃ³ thá»ƒ lÃ :
            * CÆ¡ sá»Ÿ dá»¯ liá»‡u (vÃ­ dá»¥: Oracle, SQL Server, MySQL)
            * Tá»‡p vÄƒn báº£n (vÃ­ dá»¥: CSV, JSON, XML)
            * Nguá»“n dá»¯ liá»‡u tá»« cÃ¡c á»©ng dá»¥ng, API (vÃ­ dá»¥: Salesforce, Google Analytics)
            * Dá»¯ liá»‡u tá»« cÃ¡c cáº£m biáº¿n IoT, log há»‡ thá»‘ng, v.v.
    * **T - Transform (Biáº¿n Ä‘á»•i):** QuÃ¡ trÃ¬nh lÃ m sáº¡ch, chuáº©n hÃ³a, vÃ  chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u Ä‘á»ƒ phÃ¹ há»£p vá»›i má»¥c tiÃªu cuá»‘i cÃ¹ng.
        * **QuÃ¡ trÃ¬nh xá»­ lÃ½:** Táº¡i bÆ°á»›c nÃ y, dá»¯ liá»‡u Ä‘Æ°á»£c biáº¿n Ä‘á»•i (transform) theo nhiá»u cÃ¡ch, vÃ­ dá»¥:
            * Loáº¡i bá» dá»¯ liá»‡u trÃ¹ng láº·p hoáº·c khÃ´ng há»£p lá»‡.
            * Äá»‹nh dáº¡ng láº¡i dá»¯ liá»‡u (vÃ­ dá»¥: chuyá»ƒn Ä‘á»•i ngÃ y thÃ¡ng).
            * Káº¿t há»£p dá»¯ liá»‡u tá»« nhiá»u nguá»“n khÃ¡c nhau.
            * Táº¡o ra cÃ¡c trÆ°á»ng dá»¯ liá»‡u má»›i (vÃ­ dá»¥: tÃ­nh tá»•ng doanh thu).
    * **L - Load (Táº£i):** QuÃ¡ trÃ¬nh táº£i dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c biáº¿n Ä‘á»•i vÃ o Ä‘Ã­ch cuá»‘i cÃ¹ng.
        * **ETL Output (Äáº§u ra cá»§a ETL):** ÄÃ¢y lÃ  nÆ¡i dá»¯ liá»‡u sau khi Ä‘Ã£ Ä‘Æ°á»£c xá»­ lÃ½ vÃ  lÃ m sáº¡ch sáº½ Ä‘Æ°á»£c lÆ°u trá»¯. ThÆ°á»ng lÃ :
            * **Data Warehouse (Kho dá»¯ liá»‡u):** Dá»¯ liá»‡u Ä‘Æ°á»£c tá»• chá»©c theo cÃ¡c báº£ng vÃ  lÆ°á»£c Ä‘á»“ Ä‘Ã£ Ä‘á»‹nh sáºµn.
            * **Data Mart:** Má»™t phiÃªn báº£n nhá» hÆ¡n cá»§a Data Warehouse, táº­p trung vÃ o má»™t lÄ©nh vá»±c kinh doanh cá»¥ thá»ƒ.
            * **Data Lake:** Máº·c dÃ¹ Data Lake cÃ³ thá»ƒ lÃ  Ä‘áº§u vÃ o, nÃ³ cÅ©ng cÃ³ thá»ƒ lÃ  Ä‘áº§u ra, Ä‘áº·c biá»‡t khi dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c lÃ m sáº¡ch vÃ  chuáº©n hÃ³a má»™t pháº§n (vÃ­ dá»¥: lÆ°u trá»¯ dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c lÃ m sáº¡ch Ä‘á»ƒ cÃ¡c á»©ng dá»¥ng khÃ¡c sá»­ dá»¥ng).
    
    **TÃ³m láº¡i:**
    
    * **Data Lake:** LÃ  má»™t kho lÆ°u trá»¯ lá»›n, chá»©a dá»¯ liá»‡u á»Ÿ dáº¡ng thÃ´. NÃ³ Ä‘Ã³ng vai trÃ² lÃ  nÆ¡i lÆ°u trá»¯ ban Ä‘áº§u cho ráº¥t nhiá»u loáº¡i dá»¯ liá»‡u.
    * **ETL:** LÃ  má»™t quy trÃ¬nh Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u.
        * **Input (Äáº§u vÃ o) cá»§a ETL:** ChÃ­nh lÃ  cÃ¡c nguá»“n dá»¯ liá»‡u thÃ´, cÃ³ thá»ƒ náº±m trong Data Lake hoáº·c cÃ¡c há»‡ thá»‘ng khÃ¡c.
        * **Output (Äáº§u ra) cá»§a ETL:** ChÃ­nh lÃ  nÆ¡i lÆ°u trá»¯ dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c xá»­ lÃ½ vÃ  sáºµn sÃ ng Ä‘á»ƒ phÃ¢n tÃ­ch, thÆ°á»ng lÃ  Data Warehouse hoáº·c Data Mart.
    
    Hai khÃ¡i niá»‡m nÃ y thÆ°á»ng Ä‘i Ä‘Ã´i vá»›i nhau trong cÃ¡c kiáº¿n trÃºc dá»¯ liá»‡u hiá»‡n Ä‘áº¡i, nÆ¡i Data Lake Ä‘Ã³ng vai trÃ² lÃ  nguá»“n dá»¯ liá»‡u cho quy trÃ¬nh ETL.
    
---

**Ghi nhá»›:**  
- **Block = Bootable, mount Ä‘Æ°á»£c, performance cao**  
- **File = Shared, khÃ´ng boot Ä‘Æ°á»£c**  
- **Object = SiÃªu scalable, khÃ´ng mount/boot, truy cáº­p qua key**

