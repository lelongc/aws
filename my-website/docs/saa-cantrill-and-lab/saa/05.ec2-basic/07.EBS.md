## ğŸ’½ AWS EBS (Elastic Block Store) Fundamentals â€“ Tá»•ng quan, kiáº¿n trÃºc & lÆ°u Ã½ thá»±c táº¿

---

## 1. EBS lÃ  gÃ¬?

<img width="852" height="429" alt="image" src="https://github.com/user-attachments/assets/28211147-60ff-43fd-8a79-308edbfc8699" />

- **EBS (Elastic Block Store):** Dá»‹ch vá»¥ Block Storage trÃªn AWS.
- Cung cáº¥p volume (á»• Ä‘Ä©a áº£o) cho EC2, cÃ³ thá»ƒ attach/detach linh hoáº¡t.
- EC2 nhÃ¬n tháº¥y EBS giá»‘ng nhÆ° 1 á»• cá»©ng váº­t lÃ½, táº¡o file system (ext4, NTFS, XFS, ...).

---

## 2. Kiáº¿n trÃºc & Ä‘áº·c Ä‘iá»ƒm quan trá»ng

### **Availability Zone (AZ)**
- **EBS lÃ  dá»‹ch vá»¥ theo AZ** (Availability Zone), giá»‘ng EC2.
- Volume EBS chá»‰ attach Ä‘Æ°á»£c vÃ o EC2 cÃ¹ng AZ.
- KhÃ´ng Ä‘Æ°á»£c cross-AZ (khÃ´ng attach volume á»Ÿ AZ nÃ y vÃ o EC2 á»Ÿ AZ khÃ¡c).
- Náº¿u AZ bá»‹ sá»± cá»‘ toÃ n pháº§n, EBS trong AZ Ä‘Ã³ cÅ©ng bá»‹ áº£nh hÆ°á»Ÿng.

### **Persistence & Lifecycle**
- **EBS lÃ  Persistent Storage**: volume tá»“n táº¡i Ä‘á»™c láº­p vá»›i EC2 (stop/start, restart, terminate instance, volume váº«n cÃ²n trá»« khi báº¡n delete).
- CÃ³ thá»ƒ detach volume khá»i 1 EC2 vÃ  attach sang EC2 khÃ¡c (cÃ¹ng AZ).

### **Resilience**
- EBS volume Ä‘Æ°á»£c replicate ná»™i bá»™ trong AZ (trÃªn nhiá»u physical disk khÃ¡c nhau).
- Má»™t AZ fail hoÃ n toÃ n thÃ¬ EBS cÅ©ng máº¥t (backup báº±ng snapshot Ä‘á»ƒ chá»‘ng rá»§i ro nÃ y).

---

## 3. Snapshot â€“ Sao lÆ°u & chuyá»ƒn vÃ¹ng

- **Snapshot:** Backup EBS volume lÃªn S3 (object storage, region-level durability).
- Snapshot cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ:
  - Restore/recover láº¡i volume khi máº¥t/há»ng.
  - Táº¡o volume má»›i á»Ÿ AZ khÃ¡c (tá»« snapshot).
  - Copy snapshot sang region khÃ¡c Ä‘á»ƒ DR (disaster recovery).
- **LÆ°u Ã½:** Snapshot lÃ  region-level, volume lÃ  AZ-level.

---

## 4. TÃ­nh nÄƒng & phÃ¢n loáº¡i

- **Volume Types:** SSD (hiá»‡u nÄƒng cao), HDD (dung lÆ°á»£ng lá»›n).
- **Multi-Attach:** Má»™t sá»‘ loáº¡i volume (vÃ­ dá»¥ io2) cÃ³ thá»ƒ attach vÃ o nhiá»u EC2 cÃ¹ng lÃºc (dÃ¹ng cho cluster), nhÆ°ng pháº£i cÃ³ app quáº£n lÃ½ Ä‘á»“ng thá»i ghi/Ä‘á»c (trÃ¡nh corruption).
- **Encryption:** Há»— trá»£ mÃ£ hÃ³a báº±ng KMS (sáº½ há»c riÃªng á»Ÿ bÃ i encryption).
- **Resize:** CÃ³ thá»ƒ tÄƒng dung lÆ°á»£ng volume, thay Ä‘á»•i loáº¡i volume mÃ  khÃ´ng bá»‹ downtime.

---

## 5. Billing â€“ TÃ­nh phÃ­

- **TÃ­nh phÃ­ theo GB/thÃ¡ng.**
  - 1GB dÃ¹ng 1 thÃ¡ng = 2GB dÃ¹ng ná»­a thÃ¡ng, v.v.
- Má»™t sá»‘ loáº¡i volume/option sáº½ cÃ³ extra phÃ­ (Provisioned IOPS, Multi-Attach, ...).

---

## 6. LÆ°u Ä‘á»“ kiáº¿n trÃºc EBS (mÃ´ táº£ nhanh)

<img width="840" height="448" alt="image" src="https://github.com/user-attachments/assets/03e1e719-2a03-4fb1-99b2-276fc9c27dc5" />

```
Region: us-east-1
â”œâ”€â”€ AZ-a:
â”‚   â”œâ”€â”€ EC2 Instance 1 <â”€> EBS Volume A1
â”‚   â””â”€â”€ EC2 Instance 2 <â”€> EBS Volume A2
â”œâ”€â”€ AZ-b:
â”‚   â””â”€â”€ EC2 Instance 3 <â”€> EBS Volume B1
â””â”€â”€ S3 (region-level): LÆ°u snapshot cá»§a cÃ¡c volume
```

- Volume chá»‰ attach Ä‘Æ°á»£c vÃ o EC2 trong cÃ¹ng AZ.
- Snapshot tá»« AZ-a cÃ³ thá»ƒ táº¡o volume á»Ÿ AZ-b (hoáº·c region khÃ¡c).

---

## 7. Thá»±c táº¿ & lÆ°u Ã½ Ä‘i thi

- **KhÃ´ng bao giá» attach volume cross-AZ.**
- **Detach/attach volume thoáº£i mÃ¡i giá»¯a cÃ¡c EC2 trong 1 AZ.**
- **Snapshot lÃ  cÃ¡ch backup, migrate, DR tá»‘t nháº¥t cho EBS.**
- **Billing tÃ­nh theo dung lÆ°á»£ng GB/thÃ¡ng, chÃº Ã½ khÃ´ng xÃ³a volume/snapshot sáº½ tá»‘n phÃ­.**
- **Multi-Attach chá»‰ dÃ¹ng cho workload cluster Ä‘áº·c biá»‡t (VD: Oracle RAC, cáº§n app support).**
- **LuÃ´n backup báº±ng snapshot Ä‘á»ƒ phÃ²ng AZ fail.**

---

## 8. CÃ¡c cÃ¢u há»i exam hay gáº·p

1. **"EBS cÃ³ attach Ä‘Æ°á»£c cross-AZ khÃ´ng?"** â†’ KhÃ´ng.
2. **"Volume máº¥t khi EC2 terminate?"** â†’ TÃ¹y thuá»™c flag "Delete on termination"; máº·c Ä‘á»‹nh root volume sáº½ xÃ³a, data volume thÃ¬ khÃ´ng.
3. **"Snapshot cÃ³ dÃ¹ng táº¡o volume á»Ÿ AZ khÃ¡c Ä‘Æ°á»£c khÃ´ng?"** â†’ CÃ³.
4. **"EBS cÃ³ tá»± Ä‘á»™ng replicate cross-region khÃ´ng?"** â†’ KhÃ´ng (pháº£i copy snapshot thá»§ cÃ´ng).
5. **"EBS volume máº¥t khi AZ fail?"** â†’ CÃ³ thá»ƒ máº¥t náº¿u AZ máº¥t hoÃ n toÃ n (phÃ²ng báº±ng snapshot).

---

**Nhá»›:**  
- EBS = Block Storage, AZ-level, persistent, attach/detach linh hoáº¡t, backup báº±ng snapshot (S3, region-level).
- LuÃ´n Ä‘á»ƒ Ã½ Ä‘áº¿n backup, billing vÃ  AZ khi thiáº¿t káº¿ giáº£i phÃ¡p EC2 + EBS trÃªn AWS!
