<img width="861" height="458" alt="image" src="https://github.com/user-attachments/assets/a10e9206-f49a-41e6-8bfc-23e5387fdc57" />

<img width="847" height="463" alt="image" src="https://github.com/user-attachments/assets/ab020ebb-fff3-45a3-88fb-0da462e23ed0" />


[https://aws.amazon.com/ec2/instance-types/](https://aws.amazon.com/ec2/instance-types/)
## üèÜ Ch·ªçn EBS hay Instance Store? T√¨nh hu·ªëng th·ª±c t·∫ø & m·∫πo thi (script ƒë·∫ßy ƒë·ªß)

---

## 1. Rule nhanh: Khi n√†o ch·ªçn EBS, khi n√†o Instance Store?

- **C·∫¶N persistent (b·ªÅn v·ªØng, kh√¥ng m·∫•t data)?**
  - ‚Üí **CH·ªåN EBS** (tr√°nh instance store)
  - L√Ω do: Instance store m·∫•t data khi stop/start/migrate/host fail.
- **C·∫¶N resilience (ch·ªãu l·ªói ph·∫ßn c·ª©ng, backup)?**
  - ‚Üí **CH·ªåN EBS** (resilient trong AZ, snapshot l√™n S3)
- **C·∫¶N detach/attach linh ho·∫°t, di chuy·ªÉn gi·ªØa EC2?**
  - ‚Üí **CH·ªåN EBS**
- **Workload ch·ªâ c·∫ßn performance max, _kh√¥ng quan tr·ªçng m·∫•t data_?**
  - ‚Üí **Instance Store** (si√™u nhanh, ephemeral)
- **Cost l√† ∆∞u ti√™n, workload h·ª£p temp/cache?**
  - ‚Üí **Instance Store** (ƒë√£ tr·∫£ ti·ªÅn c√πng instance, d√πng hay kh√¥ng v·∫´n tr·∫£ ti·ªÅn)

---

## 2. Khi n√†o ‚Äúph·ª• thu·ªôc‚Äù t√¨nh hu·ªëng?

- **App t·ª± replicate t·ªët (cluster, distributed, cache, Hadoop/Spark, ...):**
  - D√πng nhi·ªÅu instance store, ch·∫•p nh·∫≠n m·∫•t node/data c·ª•c b·ªô.
- **Workload c·∫ßn performance r·∫•t cao nh∆∞ng v·∫´n mu·ªën c√≥ resilience:**
  - D√πng EBS RAID0 nhi·ªÅu volume, EC2 Nitro l·ªõn (t·ªõi 260,000 IOPS).
- **Throughput, streaming l·ªõn, data c√≥ th·ªÉ m·∫•t:**  
  - Instance store (ho·∫∑c EBS st1/sc1 n·∫øu c·∫ßn persistent, r·∫ª).

---

## 3. Table mapping nhanh (decision cheat sheet)

| Nhu c·∫ßu                  | Ch·ªçn storage         | L√Ω do ch√≠nh                                       |
|--------------------------|----------------------|---------------------------------------------------|
| Persistent, resilient    | EBS                  | Kh√¥ng m·∫•t data khi stop/start/migrate             |
| Boot volume              | EBS                  | Instance store kh√¥ng boot EC2                     |
| Attach/detach linh ho·∫°t  | EBS                  | Instance store ch·ªâ khi launch                     |
| Backup/snapshot          | EBS                  | Instance store kh√¥ng snapshot ƒë∆∞·ª£c                |
| Cost ∆∞u ti√™n, data t·∫°m   | Instance Store       | Included instance price, kh√¥ng th√™m ph√≠           |
| IOPS > 260,000           | Instance Store       | EBS max per instance ~260k IOPS                   |
| IOPS 16k‚Äì64k/volume      | io1/io2 EBS          | GP2/GP3 ch·ªâ max 16k/vol, io1/io2 max 64k/vol      |
| IOPS 64k‚Äì256k/volume     | io2 Block Express    | Si√™u cao, EBS ƒë·∫∑c bi·ªát                            |
| Throughput > 16GB/s      | Instance Store       | i3, i4i, d3, h1 (NVMe/HDD local) performance max  |
| Data c√≥ th·ªÉ m·∫•t, cache   | Instance Store       | Temp/scratch/log/buffer, kh√¥ng c·∫ßn b·ªÅn v·ªØng       |
| Big data/log/streaming   | Instance Store/st1   | Instance store (max perf), ho·∫∑c EBS st1 (persist) |
| Archive, rarely access   | EBS sc1              | C·ª±c r·∫ª, ch·ªâ ph√π h·ª£p data truy c·∫≠p √≠t              |

---

## 4. Facts & figures (c·∫ßn thu·ªôc khi thi)

| Lo·∫°i volume        | Max IOPS/vol  | Max throughput/vol | Ghi ch√∫                                    |
|--------------------|---------------|--------------------|--------------------------------------------|
| EBS gp2/gp3        | 16,000        | 250MB/s(gp2), 1GB/s(gp3) | gp2: theo size, gp3: default 3k, mua th√™m |
| EBS io1/io2        | 64,000        | 1,000 MB/s         | io2: durability cao, io1 c≈© h∆°n            |
| io2 Block Express  | 256,000       | 4,000 MB/s         | Ch·ªâ Nitro EC2, volume size to              |
| EBS st1            | 500 (1MB)     | 500 MB/s           | Credit bucket, sequential only             |
| EBS sc1            | 250 (1MB)     | 250 MB/s           | Credit bucket, archive, rarely access      |
| Instance Store     | >2M           | >16GB/s (NVMe SSD) | T√πy instance (i3, i4i, d3...)              |
| EBS per instance   | 260,000       | 7,000‚Äì7,500 MB/s   | Nitro EC2 l·ªõn + RAID0 nhi·ªÅu volume         |

---

## 5. RAID0 v·ªõi EBS: Khi n√†o c·∫ßn?

- **Khi c·∫ßn IOPS/throughput v∆∞·ª£t 1 volume EBS:**  
  - G·ªôp nhi·ªÅu EBS volume (gp3/io2) th√†nh RAID0 ‚Üí t·ªïng performance c·ªông d·ªìn.
  - **Max performance b·ªã gi·ªõi h·∫°n b·ªüi per-instance limit!**
- **Per instance limit hi·ªán t·∫°i:**
  - IOPS: ~260,000
  - Throughput: ~7,000‚Äì7,500 MB/s

---

## 6. M·∫πo ghi nh·ªõ & c√¢u h·ªèi exam

- **EBS = persistent, resilience, attach/detach, backup, boot, RAID0, max 260k IOPS/instance**
- **Instance Store = ephemeral, local, add only at launch, si√™u nhanh, m·∫•t data khi stop/start/migrate/host fail**
- **st1/sc1 = EBS HDD, r·∫ª, ch·ªâ d√πng cho sequential/rarely access, kh√¥ng boot ƒë∆∞·ª£c**
- **Kh√¥ng bao gi·ªù d√πng instance store cho data quan tr·ªçng c·∫ßn backup**
- **Snapshot ch·ªâ c√≥ ·ªü EBS (kh√¥ng instance store)**
- **N·∫øu ƒë·ªÅ b√†i h·ªèi ‚Äúmaximize IOPS/throughput, data m·∫•t kh√¥ng sao?‚Äù ‚Üí Instance Store**
- **N·∫øu h·ªèi ‚Äúmaximize IOPS/throughput nh∆∞ng c·∫ßn persistence?‚Äù ‚Üí RAID0 nhi·ªÅu EBS (gp3/io2/BlockExpress), Nitro EC2 l·ªõn**
- **N·∫øu c·∫ßn boot: ch·ªâ EBS (instance store kh√¥ng boot ƒë∆∞·ª£c)**

---

## 7. T√≥m t·∫Øt cu·ªëi c√πng

- **Ch·ªçn EBS khi c·∫ßn b·ªÅn v·ªØng, backup, attach/detach, boot, RAID0, snapshot**
- **Ch·ªçn Instance Store khi c·∫ßn performance cao nh·∫•t, data temp/cache, kh√¥ng c·∫ßn l∆∞u b·ªÅn v·ªØng**
- **Ch·ªçn st1/sc1 n·∫øu ch·ªâ c·∫ßn throughput, r·∫ª, kh√¥ng boot, kh√¥ng c·∫ßn random**

---

**In ra, ch·ª•p m√†n h√¨nh, note l·∫°i b·∫£ng cheat sheet n√†y ƒë·ªÉ h·ªçc/thi AWS EC2 Storage kh√¥ng b·ªã nh·∫ßm!**
