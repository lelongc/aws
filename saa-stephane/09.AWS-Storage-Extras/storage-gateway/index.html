
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Storage gateway - DraDoc</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hybrid-cloud-va-aws-storage-gateway" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DraDoc" class="md-header__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DraDoc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Storage gateway
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ tối"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ tối" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ sáng"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ sáng" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DraDoc" class="md-nav__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DraDoc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hybrid-cloud-va-aws-storage-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      Hybrid Cloud và AWS Storage Gateway
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-amazon-s3-file-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      I. Amazon S3 File Gateway
    </span>
  </a>
  
    <nav class="md-nav" aria-label="I. Amazon S3 File Gateway">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tom-lai" class="md-nav__link">
    <span class="md-ellipsis">
      Tóm lại:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws-storage-gateway-volume-gateway-tape-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      AWS Storage Gateway - Volume Gateway &amp; Tape Gateway
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tom-tat-cac-dich-vu-trong-storage-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      Tóm tắt các dịch vụ trong Storage Gateway:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cac-lop-luu-tru-trong-aws-storage-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      Các lớp lưu trữ trong AWS Storage Gateway:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tong-ket" class="md-nav__link">
    <span class="md-ellipsis">
      Tổng kết:
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/lelongc/aws/edit/main/my-website/docs/saa-stephane/09.AWS-Storage-Extras/storage-gateway.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


  <h1>Storage gateway</h1>

<h3 id="hybrid-cloud-va-aws-storage-gateway"><strong>Hybrid Cloud và AWS Storage Gateway</strong></h3>
<p><strong>1. Hybrid Cloud</strong>:</p>
<ul>
<li><strong>Là gì?</strong>: <strong>Hybrid cloud</strong> là mô hình điện toán đám mây kết hợp giữa <strong>cloud</strong> (môi trường đám mây công cộng như AWS) và <strong>on-premises</strong> (hạ tầng nội bộ của tổ chức). Một phần hạ tầng và dữ liệu sẽ được lưu trữ trên cloud, trong khi phần còn lại vẫn duy trì trên cơ sở hạ tầng tại chỗ.</li>
<li><strong>Lý do sử dụng hybrid cloud</strong>:</li>
<li><strong>Di chuyển dữ liệu dần dần</strong>: Mô hình hybrid cho phép tổ chức di chuyển dần dần từ cơ sở hạ tầng tại chỗ sang cloud.</li>
<li><strong>Yêu cầu bảo mật</strong>: Các tổ chức có thể giữ một số dữ liệu quan trọng hoặc nhạy cảm trên hệ thống nội bộ để đáp ứng các yêu cầu bảo mật hoặc pháp lý.</li>
<li><strong>Tăng trưởng theo nhu cầu</strong>: Cloud được sử dụng cho các công việc có tính đàn hồi cao (elastic workloads), trong khi các tài nguyên quan trọng hoặc ít thay đổi vẫn duy trì trên cơ sở hạ tầng nội bộ.</li>
</ul>
<hr />
<p><strong>2. AWS Storage Gateway</strong>:</p>
<ul>
<li><strong>Là gì?</strong>: AWS Storage Gateway là một dịch vụ của AWS giúp <strong>kết nối dữ liệu tại chỗ</strong> (on-premises) với dữ liệu trên cloud, tạo ra một "cầu nối" giữa hạ tầng nội bộ và các dịch vụ lưu trữ đám mây của AWS. Điều này cho phép tổ chức duy trì dữ liệu trên cloud mà không phải thay đổi toàn bộ cơ sở hạ tầng.</li>
<li><strong>Các use case chính của AWS Storage Gateway</strong>:</li>
<li><strong>Disaster Recovery</strong>: Sao lưu dữ liệu tại chỗ vào cloud để đảm bảo phục hồi trong trường hợp thảm họa.</li>
<li><strong>Cloud Migration</strong>: Dễ dàng di chuyển dữ liệu và ứng dụng từ cơ sở hạ tầng nội bộ lên cloud.</li>
<li><strong>Mở rộng lưu trữ</strong>: Dùng Storage Gateway để mở rộng không gian lưu trữ từ hệ thống nội bộ lên cloud, ví dụ: lưu trữ dữ liệu "lạnh" (cold data) trên AWS.</li>
<li><strong>Cache Local</strong>: Sử dụng AWS Storage Gateway như một bộ nhớ đệm tại chỗ để giảm độ trễ khi truy cập dữ liệu tệp từ cloud.</li>
</ul>
<hr />
<p><strong>3. Các loại AWS Storage Gateway</strong>:</p>
<ol>
<li>
<p><strong>S3 File Gateway</strong>:</p>
</li>
<li>
<p><strong>Mục đích</strong>: Kết nối <strong>dữ liệu tệp</strong> tại chỗ với <strong>Amazon S3</strong>.</p>
</li>
<li>
<p><strong>Ứng dụng</strong>: Sử dụng để sao lưu, lưu trữ lâu dài, hoặc phục hồi dữ liệu từ S3 cho các ứng dụng yêu cầu truy xuất tệp.</p>
</li>
<li>
<p><strong>Volume Gateway</strong>:</p>
</li>
<li>
<p><strong>Mục đích</strong>: Kết nối <strong>volume lưu trữ</strong> giữa AWS và hệ thống tại chỗ.</p>
</li>
<li>
<p><strong>Ứng dụng</strong>: Dùng cho các trường hợp như sao lưu dữ liệu (backup), phục hồi dữ liệu, hoặc lưu trữ block-level dữ liệu.</p>
</li>
<li>
<p><strong>Tape Gateway</strong>:</p>
</li>
<li><strong>Mục đích</strong>: Lưu trữ dữ liệu dưới dạng băng từ (tape) trên cloud.</li>
<li><strong>Ứng dụng</strong>: Lưu trữ dữ liệu lâu dài hoặc sao lưu với băng từ, phù hợp với các yêu cầu lưu trữ lâu dài hoặc khôi phục từ dữ liệu sao lưu.</li>
</ol>
<hr />
<ul>
<li><strong>Hybrid Cloud</strong> kết hợp giữa cloud và on-premises, cho phép linh hoạt trong việc di chuyển và quản lý dữ liệu.</li>
<li><strong>AWS Storage Gateway</strong> cung cấp các giải pháp cầu nối để kết nối hạ tầng nội bộ với AWS, hỗ trợ sao lưu, phục hồi dữ liệu và mở rộng lưu trữ giữa cloud và hệ thống nội bộ.</li>
</ul>
<hr />
<h3 id="i-amazon-s3-file-gateway"><strong>I. Amazon S3 File Gateway</strong></h3>
<p><img alt="alt text" src="../image/s3-file-gateway.png" />
<strong>1. Mục đích của S3 File Gateway:</strong></p>
<ul>
<li><strong>Kết nối giữa ứng dụng tại chỗ và Amazon S3</strong>: S3 File Gateway cho phép bạn kết nối giữa <strong>Amazon S3</strong> (lưu trữ đối tượng) và các ứng dụng hoặc máy chủ tại chỗ thông qua các giao thức tệp chuẩn như <strong>NFS</strong> (Network File System) hoặc <strong>SMB</strong> (Server Message Block).</li>
<li><strong>Giới thiệu về các lớp lưu trữ</strong>: Bạn có thể sử dụng nhiều <strong>storage class</strong> của S3, ví dụ như:</li>
<li><strong>S3 Standard</strong></li>
<li><strong>S3 Standard-IA</strong> (Infrequent Access)</li>
<li><strong>S3 One Zone-IA</strong></li>
<li><strong>S3 Intelligent-Tiering</strong></li>
<li>Tuy nhiên, <strong>S3 Glacier</strong> không được hỗ trợ trực tiếp qua S3 File Gateway.</li>
</ul>
<hr />
<p><strong>2. Cách hoạt động của S3 File Gateway</strong>:</p>
<ul>
<li><strong>Chuyển đổi các yêu cầu tệp thành yêu cầu HTTPS</strong>: Khi một máy chủ ứng dụng tại chỗ sử dụng giao thức NFS hoặc SMB để truy cập dữ liệu, S3 File Gateway sẽ <strong>dịch các yêu cầu này thành yêu cầu HTTPS</strong> gửi tới <strong>Amazon S3</strong>.</li>
<li><strong>Ứng dụng nhìn nhận như một chia sẻ tệp thông thường</strong>: Dù ứng dụng tại chỗ kết nối với S3 thông qua các giao thức tệp, nhưng về bản chất, các dữ liệu được lưu trữ trên <strong>Amazon S3</strong>.</li>
</ul>
<hr />
<p><strong>3. Quản lý vòng đời dữ liệu</strong>:</p>
<ul>
<li><strong>Chuyển sang S3 Glacier</strong>: Bạn có thể thiết lập <strong>lifecycle policies</strong> (chính sách vòng đời) cho các đối tượng trong <strong>S3 bucket</strong> để tự động chuyển các đối tượng ít truy cập (archived data) vào <strong>S3 Glacier</strong> sau một thời gian nhất định, giúp tiết kiệm chi phí lưu trữ.</li>
</ul>
<hr />
<p><strong>4. Bộ nhớ đệm cho dữ liệu</strong>:</p>
<ul>
<li><strong>Cache các tệp mới truy cập</strong>: S3 File Gateway <strong>cache</strong> các tệp được sử dụng gần đây (most recently used files) trong bộ nhớ đệm tại cổng (gateway), giúp việc truy xuất dữ liệu diễn ra nhanh chóng hơn.</li>
<li><strong>Không lưu trữ toàn bộ bucket trong gateway</strong>: <strong>Chỉ các tệp gần đây</strong> được lưu trữ trong bộ nhớ đệm, phần còn lại vẫn ở trên S3.</li>
</ul>
<hr />
<p><strong>5. Các yêu cầu cấu hình IAM và Active Directory</strong>:</p>
<ul>
<li><strong>Cấu hình IAM roles</strong>: Để truy cập vào S3 File Gateway, bạn cần tạo <strong>IAM roles</strong> cho mỗi <strong>S3 File Gateway</strong> để xác định quyền truy cập vào các tài nguyên AWS.</li>
<li><strong>Tích hợp với Active Directory (AD)</strong>: Nếu sử dụng giao thức <strong>SMB</strong>, bạn có thể tích hợp với <strong>Microsoft Active Directory</strong> để thực hiện xác thực người dùng. Điều này cho phép người dùng trong mạng nội bộ của bạn đăng nhập và truy cập vào <strong>S3 File Gateway</strong> theo các quyền đã định sẵn trong AD.</li>
</ul>
<hr />
<h4 id="tom-lai"><strong>Tóm lại</strong>:</h4>
<ul>
<li><strong>Amazon S3 File Gateway</strong> giúp kết nối <strong>S3</strong> với các ứng dụng hoặc máy chủ tại chỗ qua các giao thức tệp chuẩn như NFS và SMB, cho phép truy cập vào dữ liệu trên S3 như thể đó là dữ liệu tệp thông thường.</li>
<li>Gateway sử dụng bộ nhớ đệm cho các tệp truy cập gần đây để cải thiện hiệu suất, hỗ trợ các chính sách vòng đời để chuyển dữ liệu sang lưu trữ rẻ hơn như <strong>S3 Glacier</strong>, và tích hợp với <strong>Active Directory</strong> để xác thực người dùng khi sử dụng giao thức SMB.</li>
</ul>
<hr />
<h3 id="aws-storage-gateway-volume-gateway-tape-gateway"><strong>AWS Storage Gateway - Volume Gateway &amp; Tape Gateway</strong></h3>
<p><strong>1. Volume Gateway:</strong>
<img alt="alt text" src="../image/volume-gateway.png" /></p>
<ul>
<li><strong>Loại lưu trữ</strong>: Là <strong>block storage</strong> sử dụng giao thức <strong>iSCSI</strong> và được hỗ trợ bởi <strong>Amazon S3</strong>.</li>
<li><strong>Mục đích chính</strong>: Volume Gateway chủ yếu được sử dụng để <strong>sao lưu các volume từ các máy chủ tại chỗ</strong> lên đám mây và cung cấp khả năng khôi phục lại dữ liệu khi cần thiết.</li>
<li>
<p><strong>Hai loại Volume Gateway</strong>:</p>
</li>
<li>
<p><strong>Cached Volumes</strong>:</p>
<ul>
<li><strong>Truy cập dữ liệu với độ trễ thấp</strong>.</li>
<li><strong>Dữ liệu mới nhất</strong> được lưu trữ trên bộ nhớ cache tại cổng (gateway), phần còn lại được lưu trữ trên <strong>Amazon S3</strong>.</li>
</ul>
</li>
<li>
<p><strong>Stored Volumes</strong>:</p>
<ul>
<li><strong>Toàn bộ dữ liệu</strong> được lưu trữ tại chỗ (on-premises), và <strong>sao lưu định kỳ</strong> vào <strong>Amazon S3</strong>.</li>
</ul>
</li>
<li>
<p><strong>Cách hoạt động</strong>:</p>
</li>
<li>Các volume từ các máy chủ ứng dụng tại chỗ sẽ được sao lưu thông qua <strong>EBS snapshots</strong>, và snapshots này sẽ được lưu trữ trên <strong>Amazon S3</strong>.</li>
</ul>
<hr />
<p><strong>2. Tape Gateway:</strong>
<img alt="alt text" src="../image/tape-gateway.png" /></p>
<ul>
<li><strong>Ứng dụng cho doanh nghiệp sử dụng hệ thống sao lưu tape vật lý</strong>.</li>
<li><strong>Mục đích chính</strong>: Tape Gateway cung cấp một <strong>thư viện tape ảo (VTL)</strong>, sao lưu dữ liệu tape truyền thống lên <strong>Amazon S3</strong> và <strong>Amazon Glacier</strong>.</li>
<li><strong>Giao thức</strong>: Sử dụng <strong>iSCSI protocol</strong> để tương tác giữa hệ thống sao lưu tại chỗ và đám mây.</li>
<li><strong>Kết hợp với phần mềm sao lưu phổ biến</strong>: Tape Gateway có thể làm việc với nhiều phần mềm sao lưu chính để quản lý việc sao lưu và phục hồi dữ liệu từ đám mây.</li>
</ul>
<hr />
<p><strong>3. Storage Gateway Hardware Appliance:</strong>
<img alt="alt text" src="../image/hardware-appliance.png" /></p>
<ul>
<li><strong>Lựa chọn cho các cơ sở hạ tầng không có máy ảo (virtualization)</strong>:</li>
<li>Nếu không có máy chủ ảo để chạy cổng lưu trữ (Storage Gateway), bạn có thể sử dụng <strong>Storage Gateway Hardware Appliance</strong> của AWS, một thiết bị phần cứng mini để kết nối với đám mây.</li>
<li><strong>Cài đặt phần cứng</strong> này cung cấp đủ <strong>CPU, bộ nhớ, mạng, và bộ nhớ cache SSD</strong> để hoạt động chính xác.</li>
<li>Có thể cài đặt để hoạt động như <strong>File Gateway, Volume Gateway hoặc Tape Gateway</strong> tùy thuộc vào nhu cầu sử dụng.</li>
<li>Đây là giải pháp hữu ích cho các trung tâm dữ liệu nhỏ không có khả năng ảo hóa.</li>
</ul>
<hr />
<p><img alt="alt text" src="../image/storage-gateway.png" /></p>
<h3 id="tom-tat-cac-dich-vu-trong-storage-gateway"><strong>Tóm tắt các dịch vụ trong Storage Gateway:</strong></h3>
<ol>
<li>
<p><strong>S3 File Gateway</strong>:</p>
</li>
<li>
<p>Sử dụng <strong>NFS/SMB</strong> để kết nối ứng dụng tại chỗ với <strong>Amazon S3</strong>.</p>
</li>
<li>
<p>Dữ liệu trong S3 có thể được chuyển qua các lớp lưu trữ khác nhau và có thể di chuyển sang <strong>S3 Glacier</strong> để lưu trữ lâu dài.</p>
</li>
<li>
<p><strong>Volume Gateway</strong>:</p>
</li>
<li>
<p>Dùng cho các máy chủ ứng dụng truy cập dữ liệu qua giao thức <strong>iSCSI</strong>.</p>
</li>
<li>
<p>Dữ liệu lưu trữ trên <strong>Amazon S3</strong> và có thể chuyển đổi thành <strong>AWS EBS Volumes</strong> khi cần phục hồi.</p>
</li>
<li>
<p><strong>Tape Gateway</strong>:</p>
</li>
<li>Hỗ trợ sao lưu dữ liệu tape truyền thống vào <strong>Amazon S3</strong> và <strong>Amazon Glacier</strong>.</li>
</ol>
<hr />
<h3 id="cac-lop-luu-tru-trong-aws-storage-gateway"><strong>Các lớp lưu trữ trong AWS Storage Gateway</strong>:</h3>
<ul>
<li><strong>Amazon S3</strong>: Có thể lưu trữ ở nhiều lớp lưu trữ như <strong>S3 Standard</strong>, <strong>S3 Standard-IA</strong>, <strong>S3 Glacier</strong>.</li>
<li><strong>Amazon FSx</strong>: Dùng cho lưu trữ tệp Windows, được sao lưu vào Amazon S3.</li>
<li><strong>Amazon Glacier</strong>: Dùng cho lưu trữ dữ liệu lâu dài với chi phí thấp (khi sử dụng Tape Gateway).</li>
</ul>
<h3 id="tong-ket"><strong>Tổng kết</strong>:</h3>
<ul>
<li><strong>Storage Gateway</strong> cung cấp một cầu nối linh hoạt giữa cơ sở hạ tầng tại chỗ và AWS Cloud. Bạn có thể sao lưu và phục hồi dữ liệu, mở rộng khả năng lưu trữ từ đám mây, và thậm chí sử dụng các thiết bị phần cứng từ AWS khi thiếu các giải pháp ảo hóa tại chỗ.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>