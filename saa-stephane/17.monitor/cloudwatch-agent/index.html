
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Cloudwatch agent - DraDoc</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#su-dung-cloudwatch-agents-e-thu-thap-logs-va-metrics-tu-ec2-instances" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DraDoc" class="md-header__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DraDoc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cloudwatch agent
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ tối"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ tối" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ sáng"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ sáng" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DraDoc" class="md-nav__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DraDoc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#su-dung-cloudwatch-agents-e-thu-thap-logs-va-metrics-tu-ec2-instances" class="md-nav__link">
    <span class="md-ellipsis">
      Sử Dụng CloudWatch Agents để Thu Thập Logs và Metrics từ EC2 Instances
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-tai-sao-can-cloudwatch-agents" class="md-nav__link">
    <span class="md-ellipsis">
      1. Tại Sao Cần CloudWatch Agents?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-cach-cloudwatch-agents-hoat-ong" class="md-nav__link">
    <span class="md-ellipsis">
      2. Cách CloudWatch Agents Hoạt Động
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-cloudwatch-agents-tren-on-premises-servers" class="md-nav__link">
    <span class="md-ellipsis">
      3. CloudWatch Agents Trên On-Premises Servers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-hai-loai-cloudwatch-agents" class="md-nav__link">
    <span class="md-ellipsis">
      4. Hai Loại CloudWatch Agents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Hai Loại CloudWatch Agents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-cloudwatch-logs-agent-phien-ban-cu" class="md-nav__link">
    <span class="md-ellipsis">
      a. CloudWatch Logs Agent (Phiên Bản Cũ)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-cloudwatch-unified-agent-phien-ban-moi" class="md-nav__link">
    <span class="md-ellipsis">
      b. CloudWatch Unified Agent (Phiên Bản Mới)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-cac-metrics-thu-thap-boi-cloudwatch-unified-agent" class="md-nav__link">
    <span class="md-ellipsis">
      5. Các Metrics Thu Thập Bởi CloudWatch Unified Agent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Các Metrics Thu Thập Bởi CloudWatch Unified Agent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-cpu-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      a. CPU Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-disk-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      b. Disk Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-ram-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      c. RAM Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d-network-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      d. Network Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-process-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      e. Process Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f-swap-space-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      f. Swap Space Metrics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-so-sanh-cloudwatch-unified-agent-voi-monitoring-mac-inh-cua-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      6. So Sánh CloudWatch Unified Agent Với Monitoring Mặc Định của EC2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-cau-hinh-cloudwatch-unified-agent" class="md-nav__link">
    <span class="md-ellipsis">
      7. Cấu Hình CloudWatch Unified Agent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-vi-du-ve-cau-hinh-cloudwatch-unified-agent" class="md-nav__link">
    <span class="md-ellipsis">
      8. Ví Dụ Về Cấu Hình CloudWatch Unified Agent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-loi-ich-cua-cloudwatch-unified-agent" class="md-nav__link">
    <span class="md-ellipsis">
      9. Lợi Ích Của CloudWatch Unified Agent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-ket-luan" class="md-nav__link">
    <span class="md-ellipsis">
      10. Kết Luận
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/lelongc/aws/edit/main/my-website/docs/saa-stephane/17.monitor/cloudwatch-agent.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


  <h1>Cloudwatch agent</h1>

<h3 id="su-dung-cloudwatch-agents-e-thu-thap-logs-va-metrics-tu-ec2-instances"><strong>Sử Dụng CloudWatch Agents để Thu Thập Logs và Metrics từ EC2 Instances</strong></h3>
<p>CloudWatch Agents là một công cụ mạnh mẽ giúp bạn thu thập logs và metrics từ các EC2 instances (hoặc máy chủ on-premises) và gửi chúng đến CloudWatch. Dưới đây là chi tiết về cách hoạt động và cách sử dụng CloudWatch Agents.</p>
<hr />
<h3 id="1-tai-sao-can-cloudwatch-agents"><strong>1. Tại Sao Cần CloudWatch Agents?</strong></h3>
<ul>
<li><strong>Mặc định</strong>, EC2 instances không tự động gửi logs hoặc metrics đến CloudWatch.</li>
<li>Để thu thập dữ liệu từ EC2 instances, bạn cần cài đặt và cấu hình một <strong>CloudWatch Agent</strong> trên mỗi instance.</li>
<li>CloudWatch Agent là một chương trình nhỏ chạy trên EC2 instances, có nhiệm vụ thu thập và gửi logs/metrics đến CloudWatch.</li>
</ul>
<hr />
<h3 id="2-cach-cloudwatch-agents-hoat-ong"><strong>2. Cách CloudWatch Agents Hoạt Động</strong></h3>
<ul>
<li><strong>Bước 1</strong>: Cài đặt CloudWatch Agent trên EC2 instances.</li>
<li><strong>Bước 2</strong>: Cấu hình agent để thu thập logs và metrics cụ thể.</li>
<li><strong>Bước 3</strong>: Agent sẽ gửi dữ liệu đến CloudWatch Logs và CloudWatch Metrics.</li>
<li><strong>Yêu cầu</strong>:</li>
<li>EC2 instances phải có một <strong>IAM Role</strong> với quyền gửi dữ liệu đến CloudWatch.</li>
<li>IAM Role cần có các policy như <code>CloudWatchLogsFullAccess</code> và <code>CloudWatchAgentServerPolicy</code>.</li>
</ul>
<hr />
<h3 id="3-cloudwatch-agents-tren-on-premises-servers"><strong>3. CloudWatch Agents Trên On-Premises Servers</strong></h3>
<ul>
<li>CloudWatch Agents không chỉ hoạt động trên EC2 instances mà còn có thể được cài đặt trên các máy chủ <strong>on-premises</strong> (ví dụ: máy chủ VMware).</li>
<li>Bằng cách cài đặt agent trên các máy chủ này, bạn có thể gửi logs và metrics từ môi trường on-premises đến CloudWatch.</li>
</ul>
<hr />
<h3 id="4-hai-loai-cloudwatch-agents"><strong>4. Hai Loại CloudWatch Agents</strong></h3>
<h4 id="a-cloudwatch-logs-agent-phien-ban-cu"><strong>a. CloudWatch Logs Agent (Phiên Bản Cũ)</strong></h4>
<ul>
<li><strong>Chức năng</strong>: Chỉ có thể gửi <strong>logs</strong> đến CloudWatch Logs.</li>
<li><strong>Hạn chế</strong>:</li>
<li>Không thu thập được metrics.</li>
<li>Không hỗ trợ cấu hình tập trung thông qua SSM Parameter Store.</li>
</ul>
<h4 id="b-cloudwatch-unified-agent-phien-ban-moi"><strong>b. CloudWatch Unified Agent (Phiên Bản Mới)</strong></h4>
<ul>
<li><strong>Chức năng</strong>:</li>
<li>Gửi <strong>logs</strong> đến CloudWatch Logs.</li>
<li>Thu thập <strong>metrics</strong> hệ thống (như CPU, RAM, disk, network) với độ chi tiết cao.</li>
<li><strong>Ưu điểm</strong>:</li>
<li>Hỗ trợ cả logs và metrics (do đó được gọi là "Unified").</li>
<li>Có thể cấu hình tập trung thông qua <strong>SSM Parameter Store</strong>, giúp quản lý dễ dàng hơn.</li>
<li>Thu thập các metrics chi tiết hơn so với monitoring mặc định của EC2.</li>
</ul>
<hr />
<h3 id="5-cac-metrics-thu-thap-boi-cloudwatch-unified-agent"><strong>5. Các Metrics Thu Thập Bởi CloudWatch Unified Agent</strong></h3>
<p>CloudWatch Unified Agent có thể thu thập các metrics hệ thống với độ chi tiết cao, bao gồm:</p>
<h4 id="a-cpu-metrics"><strong>a. CPU Metrics</strong></h4>
<ul>
<li><strong>Chi tiết</strong>: active, guest, idle, system, user, steal.</li>
<li>Ví dụ: Bạn có thể theo dõi % CPU đang được sử dụng bởi người dùng hoặc hệ thống.</li>
</ul>
<h4 id="b-disk-metrics"><strong>b. Disk Metrics</strong></h4>
<ul>
<li><strong>Chi tiết</strong>: free, used, total disk space.</li>
<li><strong>Disk IO</strong>: Số lần đọc/ghi (reads/writes), số byte, IOPS.</li>
</ul>
<h4 id="c-ram-metrics"><strong>c. RAM Metrics</strong></h4>
<ul>
<li><strong>Chi tiết</strong>: free, inactive, used, total, cached memory.</li>
</ul>
<h4 id="d-network-metrics"><strong>d. Network Metrics</strong></h4>
<ul>
<li><strong>Chi tiết</strong>: Số lượng kết nối TCP/UDP, số gói tin (packets), số byte.</li>
</ul>
<h4 id="e-process-metrics"><strong>e. Process Metrics</strong></h4>
<ul>
<li><strong>Chi tiết</strong>: Tổng số tiến trình (processes), số tiến trình đang chạy (running), sleep, blocked, dead.</li>
</ul>
<h4 id="f-swap-space-metrics"><strong>f. Swap Space Metrics</strong></h4>
<ul>
<li><strong>Chi tiết</strong>: free, used, used percentage của swap space.</li>
</ul>
<hr />
<h3 id="6-so-sanh-cloudwatch-unified-agent-voi-monitoring-mac-inh-cua-ec2"><strong>6. So Sánh CloudWatch Unified Agent Với Monitoring Mặc Định của EC2</strong></h3>
<ul>
<li><strong>Monitoring mặc định của EC2</strong>:</li>
<li>Chỉ cung cấp các metrics cơ bản như CPU utilization, disk activity, và network activity.</li>
<li>Không cung cấp thông tin về <strong>RAM</strong>, <strong>swap space</strong>, hoặc các metrics chi tiết khác.</li>
<li><strong>CloudWatch Unified Agent</strong>:</li>
<li>Cung cấp các metrics chi tiết hơn, bao gồm cả RAM, swap space, và các thông tin hệ thống khác.</li>
<li>Hỗ trợ thu thập logs và metrics từ cả EC2 instances và máy chủ on-premises.</li>
</ul>
<hr />
<h3 id="7-cau-hinh-cloudwatch-unified-agent"><strong>7. Cấu Hình CloudWatch Unified Agent</strong></h3>
<ul>
<li><strong>Bước 1</strong>: Cài đặt CloudWatch Unified Agent trên EC2 instances hoặc máy chủ on-premises.</li>
<li><strong>Bước 2</strong>: Sử dụng <strong>SSM Parameter Store</strong> để cấu hình tập trung cho agent.</li>
<li><strong>Bước 3</strong>: Chỉ định các logs và metrics cần thu thập.</li>
<li><strong>Bước 4</strong>: Khởi động agent và kiểm tra dữ liệu trong CloudWatch.</li>
</ul>
<hr />
<h3 id="8-vi-du-ve-cau-hinh-cloudwatch-unified-agent"><strong>8. Ví Dụ Về Cấu Hình CloudWatch Unified Agent</strong></h3>
<ol>
<li><strong>Cài đặt Agent</strong>:</li>
<li>Trên Linux: Sử dụng lệnh <code>sudo yum install amazon-cloudwatch-agent</code>.</li>
<li>Trên Windows: Tải và cài đặt từ AWS Management Console.</li>
<li><strong>Cấu hình Agent</strong>:</li>
<li>Tạo một tệp cấu hình JSON hoặc sử dụng SSM Parameter Store.</li>
<li>Ví dụ cấu hình thu thập CPU và RAM metrics:
     <code>json
     {
       "metrics": {
         "metrics_collected": {
           "cpu": {
             "measurement": ["cpu_usage_idle", "cpu_usage_system"]
           },
           "mem": {
             "measurement": ["mem_used", "mem_free"]
           }
         }
       }
     }</code></li>
<li><strong>Khởi động Agent</strong>:</li>
<li>Trên Linux: <code>sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -a fetch-config -m ec2 -s -c file:/path/to/config.json</code>.</li>
<li>Trên Windows: Sử dụng PowerShell để khởi động agent.</li>
</ol>
<hr />
<h3 id="9-loi-ich-cua-cloudwatch-unified-agent"><strong>9. Lợi Ích Của CloudWatch Unified Agent</strong></h3>
<ul>
<li><strong>Thu thập dữ liệu chi tiết</strong>: Cung cấp các metrics hệ thống chi tiết hơn so với monitoring mặc định.</li>
<li><strong>Hỗ trợ đa nền tảng</strong>: Làm việc trên cả EC2 instances và máy chủ on-premises.</li>
<li><strong>Cấu hình tập trung</strong>: Dễ dàng quản lý cấu hình thông qua SSM Parameter Store.</li>
<li><strong>Tích hợp với CloudWatch</strong>: Dữ liệu được gửi trực tiếp đến CloudWatch Logs và CloudWatch Metrics.</li>
</ul>
<hr />
<h3 id="10-ket-luan"><strong>10. Kết Luận</strong></h3>
<p>CloudWatch Unified Agent là một công cụ mạnh mẽ để thu thập logs và metrics từ EC2 instances và máy chủ on-premises. Với khả năng thu thập dữ liệu chi tiết và cấu hình linh hoạt, nó giúp bạn giám sát và phân tích hiệu suất hệ thống một cách hiệu quả. Nếu bạn cần độ chi tiết cao hơn so với monitoring mặc định của EC2, hãy cân nhắc sử dụng CloudWatch Unified Agent.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>