
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Elastic load balancer - DraDoc</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tong-quan-ve-load-balancing-can-bang-tai" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="DraDoc" class="md-header__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DraDoc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Elastic load balancer
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ tối"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ tối" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ sáng"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ sáng" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="DraDoc" class="md-nav__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DraDoc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tong-quan-ve-load-balancing-can-bang-tai" class="md-nav__link">
    <span class="md-ellipsis">
      Tổng quan về Load Balancing (Cân bằng tải)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tổng quan về Load Balancing (Cân bằng tải)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load-balancing-la-gi" class="md-nav__link">
    <span class="md-ellipsis">
      Load Balancing là gì?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cach-hoat-ong" class="md-nav__link">
    <span class="md-ellipsis">
      Cách hoạt động
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loi-ich-cua-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Lợi ích của Load Balancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cac-loai-load-balancer-tren-aws" class="md-nav__link">
    <span class="md-ellipsis">
      Các loại Load Balancer trên AWS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiem-tra-suc-khoe-health-check" class="md-nav__link">
    <span class="md-ellipsis">
      Kiểm tra sức khỏe (Health Check)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bao-mat-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Bảo mật Load Balancer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hoan-thien-thong-tin-ve-elastic-load-balancer-elb" class="md-nav__link">
    <span class="md-ellipsis">
      Hoàn thiện thông tin về Elastic Load Balancer (ELB)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hoàn thiện thông tin về Elastic Load Balancer (ELB)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-so-sanh-chi-tiet-giua-cac-loai-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      1. So sánh chi tiết giữa các loại Load Balancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-tinh-huong-su-dung-cu-the-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      2. Tình huống sử dụng cụ thể (Use Cases)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-gioi-han-limits-cua-elastic-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      3. Giới hạn (Limits) của Elastic Load Balancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-cac-tinh-nang-bo-sung-advanced-features" class="md-nav__link">
    <span class="md-ellipsis">
      4. Các tính năng bổ sung (Advanced Features)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-cac-chien-luoc-toi-uu-hoa" class="md-nav__link">
    <span class="md-ellipsis">
      5. Các chiến lược tối ưu hóa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-case-study" class="md-nav__link">
    <span class="md-ellipsis">
      6. Case Study
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/lelongc/aws/edit/main/my-website/docs/saa-stephane/03.High-availability-vs-Scalability/lý-thuyết/elastic-load-balancer.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


  <h1>Elastic load balancer</h1>

<h3 id="tong-quan-ve-load-balancing-can-bang-tai"><strong>Tổng quan về Load Balancing (Cân bằng tải)</strong></h3>
<h4 id="load-balancing-la-gi"><strong>Load Balancing là gì?</strong></h4>
<p>Cân bằng tải là kỹ thuật phân phối lưu lượng truy cập đến nhiều tài nguyên backend (ví dụ: các instance EC2) để đảm bảo:
- Sử dụng tài nguyên hiệu quả.
- Tăng độ tin cậy và khả năng chịu lỗi cho hệ thống.</p>
<hr />
<h4 id="cach-hoat-ong"><strong>Cách hoạt động</strong></h4>
<ol>
<li>Người dùng kết nối tới <strong>một điểm duy nhất</strong>: Elastic Load Balancer (ELB).</li>
<li>ELB phân phối lưu lượng truy cập tới nhiều instance EC2 backend dựa trên tải.</li>
<li>Người dùng không biết được họ đang kết nối với backend cụ thể nào, chỉ thấy endpoint của load balancer.</li>
</ol>
<hr />
<h4 id="loi-ich-cua-load-balancer"><strong>Lợi ích của Load Balancer</strong></h4>
<ul>
<li><strong>Một điểm truy cập duy nhất</strong>: Giúp đơn giản hóa việc kết nối cho người dùng.</li>
<li><strong>Xử lý lỗi</strong>: ELB có cơ chế kiểm tra sức khỏe (health check) để phát hiện các instance không hoạt động và không gửi lưu lượng đến đó.</li>
<li><strong>Cung cấp SSL Termination</strong>: Hỗ trợ mã hóa HTTPS.</li>
<li><strong>Tăng cường bảo mật</strong>: </li>
<li>Chỉ cho phép lưu lượng từ ELB đến các instance.</li>
<li>Tách biệt lưu lượng công khai (public) và riêng tư (private).</li>
<li><strong>Khả năng mở rộng tự động</strong>: Tích hợp với các dịch vụ AWS khác như Auto Scaling, Amazon ECS, và CloudWatch.</li>
<li><strong>Managed service</strong>: mọi thứ tự động bởi aws nên không cần phải tự quản lý, cài đặt chỉ cần sử dụng </li>
</ul>
<hr />
<h4 id="cac-loai-load-balancer-tren-aws"><strong>Các loại Load Balancer trên AWS</strong></h4>
<p>AWS cung cấp bốn loại ELB:</p>
<ol>
<li>
<p><strong>Classic Load Balancer (CLB)</strong>:
   <!-- - Ra đời năm 2009, thuộc thế hệ cũ, hỗ trợ HTTP, HTTPS, TCP, SSL. --></p>
</li>
<li>
<p>Hiện đã bị coi là lỗi thời. </p>
</li>
<li>
<p><strong>Application Load Balancer (ALB)</strong>:</p>
</li>
<li>Ra mắt năm 2016, hỗ trợ HTTP, HTTPS, WebSocket.</li>
<li>
<p>Phù hợp với ứng dụng dựa trên tầng 7 (Layer 7).</p>
</li>
<li>
<p><strong>Network Load Balancer (NLB)</strong>:</p>
</li>
<li>Ra mắt năm 2017, hỗ trợ TCP, UDP, TLS.</li>
<li>Dùng cho các ứng dụng tầng 4 (Layer 4) đòi hỏi hiệu suất cao.</li>
<li>
<p>Có hiệu suất cao hơn với độ trễ thấp vì hoạt động ở lớp thấp hơn và ít xử lý hơn.
      Xử lý hàng triệu yêu cầu mỗi giây.
      Thích hợp cho các hệ thống yêu cầu thời gian thực.</p>
</li>
<li>
<p><strong>Gateway Load Balancer (GWLB)</strong>:</p>
</li>
<li>Ra mắt năm 2020, hoạt động ở tầng mạng (Layer 3), hỗ trợ IP Protocol.</li>
<li>Phù hợp với các ứng dụng mạng phức tạp.</li>
</ol>
<hr />
<h4 id="kiem-tra-suc-khoe-health-check"><strong>Kiểm tra sức khỏe (Health Check)</strong></h4>
<ul>
<li>ELB thường xuyên kiểm tra trạng thái của các EC2 instance qua:</li>
<li><strong>Giao thức</strong>: HTTP, HTTPS.</li>
<li><strong>Cổng</strong>: Ví dụ 4567.</li>
<li><strong>Endpoint</strong>: Ví dụ <code>/health</code>.</li>
<li>Nếu instance không trả về mã phản hồi "OK" (HTTP 200), nó sẽ bị đánh dấu là <strong>không khỏe mạnh</strong> và không nhận lưu lượng.</li>
</ul>
<hr />
<h4 id="bao-mat-load-balancer"><strong>Bảo mật Load Balancer</strong></h4>
<ul>
<li><strong>Kết nối từ người dùng đến ELB</strong>:</li>
<li>Chấp nhận lưu lượng qua cổng 80 (HTTP) hoặc 443 (HTTPS).</li>
<li>
<p>Nguồn: Tất cả mọi nơi (0.0.0.0/0).</p>
</li>
<li>
<p><strong>Kết nối từ ELB đến EC2</strong>:</p>
</li>
<li>Chỉ cho phép lưu lượng từ <strong>security groups của ELB</strong> đến <strong>security groups của EC2</strong>, đảm bảo lưu lượng đến từ nguồn đáng tin cậy.</li>
</ul>
<hr />
<h3 id="hoan-thien-thong-tin-ve-elastic-load-balancer-elb"><strong>Hoàn thiện thông tin về Elastic Load Balancer (ELB)</strong></h3>
<h4 id="1-so-sanh-chi-tiet-giua-cac-loai-load-balancer"><strong>1. So sánh chi tiết giữa các loại Load Balancer</strong></h4>
<table>
<thead>
<tr>
<th><strong>Đặc điểm</strong></th>
<th><strong>CLB</strong></th>
<th><strong>ALB</strong></th>
<th><strong>NLB</strong></th>
<th><strong>GWLB</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Giao thức hỗ trợ</strong></td>
<td>HTTP, HTTPS, TCP, SSL</td>
<td>HTTP, HTTPS, WebSocket</td>
<td>TCP, UDP, TLS</td>
<td>IP Protocol</td>
</tr>
<tr>
<td><strong>Tầng OSI</strong></td>
<td>Layer 4 và Layer 7</td>
<td>Layer 7</td>
<td>Layer 4</td>
<td>Layer 3</td>
</tr>
<tr>
<td><strong>Tích hợp Lambda</strong></td>
<td>Không</td>
<td>Có</td>
<td>Không</td>
<td>Không</td>
</tr>
<tr>
<td><strong>Hiệu suất</strong></td>
<td>Thấp hơn ALB và NLB</td>
<td>Tối ưu cho HTTP/HTTPS</td>
<td>Tối ưu cho TCP/UDP</td>
<td>Tối ưu cho các dịch vụ mạng</td>
</tr>
<tr>
<td><strong>SSL Termination</strong></td>
<td>Có</td>
<td>Có</td>
<td>Có</td>
<td>Không</td>
</tr>
<tr>
<td><strong>Kiểm tra sức khỏe</strong></td>
<td>Cơ bản</td>
<td>Nâng cao (theo URL cụ thể)</td>
<td>Cơ bản</td>
<td>Cơ bản</td>
</tr>
<tr>
<td><strong>Use Case</strong></td>
<td>Legacy systems</td>
<td>Ứng dụng Web, API Gateway</td>
<td>Ứng dụng cần băng thông cao</td>
<td>Tường lửa hoặc mạng phức tạp</td>
</tr>
</tbody>
</table>
<hr />
<h4 id="2-tinh-huong-su-dung-cu-the-use-cases"><strong>2. Tình huống sử dụng cụ thể (Use Cases)</strong></h4>
<ol>
<li><strong>Application Load Balancer (ALB)</strong>:</li>
<li>Ứng dụng Web-based hoặc RESTful APIs.</li>
<li>Triển khai container với Amazon ECS hoặc EKS.</li>
<li>
<p>Dùng để phân phối lưu lượng dựa trên <strong>Path-based Routing</strong> (ví dụ: <code>/api</code> chuyển đến một dịch vụ, <code>/user</code> chuyển đến dịch vụ khác).</p>
</li>
<li>
<p><strong>Network Load Balancer (NLB)</strong>:</p>
</li>
<li>Ứng dụng yêu cầu tốc độ phản hồi thấp với băng thông cao.</li>
<li>Hỗ trợ <strong>sticky sessions</strong> với IP của client.</li>
<li>
<p>Dùng cho các giao thức không phải HTTP, ví dụ như gaming server hoặc IoT systems.</p>
</li>
<li>
<p><strong>Gateway Load Balancer (GWLB)</strong>:</p>
</li>
<li>Thích hợp cho tường lửa (firewall), NAT Gateway, hoặc kiểm soát mạng phức tạp.</li>
<li>Phân phối lưu lượng qua các thiết bị mạng ảo như Fortinet hoặc Palo Alto.</li>
</ol>
<hr />
<h4 id="3-gioi-han-limits-cua-elastic-load-balancer"><strong>3. Giới hạn (Limits) của Elastic Load Balancer</strong></h4>
<p>AWS ELB có một số giới hạn mặc định mà bạn cần lưu ý:</p>
<table>
<thead>
<tr>
<th><strong>Giới hạn</strong></th>
<th><strong>Mặc định</strong></th>
<th><strong>Có thể tăng</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Số lượng Load Balancers mỗi vùng (region)</td>
<td>50</td>
<td>Có</td>
</tr>
<tr>
<td>Số lượng Listeners mỗi Load Balancer</td>
<td>50</td>
<td>Có</td>
</tr>
<tr>
<td>Số Rules trên ALB</td>
<td>100</td>
<td>Có</td>
</tr>
<tr>
<td>Số mục kiểm tra sức khỏe (Targets)</td>
<td>2000/Target Group</td>
<td>Có</td>
</tr>
</tbody>
</table>
<hr />
<h4 id="4-cac-tinh-nang-bo-sung-advanced-features"><strong>4. Các tính năng bổ sung (Advanced Features)</strong></h4>
<ul>
<li><strong>Sticky Sessions</strong>: </li>
<li>ALB và NLB hỗ trợ sticky sessions để đảm bảo yêu cầu của người dùng quay lại cùng một instance.</li>
<li>
<p>Dùng cookie hoặc IP của client.</p>
</li>
<li>
<p><strong>Cross-Zone Load Balancing</strong>:</p>
</li>
<li>Phân phối đều lưu lượng giữa các Availability Zones (AZs).</li>
<li>
<p>Hỗ trợ bởi cả CLB, ALB, NLB.</p>
</li>
<li>
<p><strong>HTTP/2 và gRPC Support</strong>:</p>
</li>
<li>
<p>ALB hỗ trợ HTTP/2 và gRPC, cải thiện hiệu suất giao tiếp giữa các microservices.</p>
</li>
<li>
<p><strong>SNI (Server Name Indication)</strong>:</p>
</li>
<li>
<p>ALB và NLB hỗ trợ SNI, cho phép nhiều chứng chỉ SSL trên cùng một listener.</p>
</li>
<li>
<p><strong>WAF Integration</strong>:</p>
</li>
<li>ALB có thể tích hợp với AWS WAF để bảo vệ ứng dụng khỏi các cuộc tấn công như DDoS, SQL Injection.</li>
</ul>
<hr />
<h4 id="5-cac-chien-luoc-toi-uu-hoa"><strong>5. Các chiến lược tối ưu hóa</strong></h4>
<ul>
<li><strong>Sử dụng Auto Scaling với ELB</strong>:</li>
<li>ELB hoạt động tốt nhất khi kết hợp với Auto Scaling Groups để tự động thêm hoặc bớt instance dựa trên lưu lượng thực tế.</li>
<li><strong>Tích hợp CloudWatch</strong>:</li>
<li>Theo dõi các thông số như <strong>latency</strong>, <strong>target response time</strong>, và <strong>HTTP codes</strong> để tối ưu hóa hiệu suất.</li>
<li><strong>Kết hợp với Route 53</strong>:</li>
<li>Dùng Route 53 để thực hiện routing DNS theo địa lý hoặc tỷ lệ tải (Weighted Routing).</li>
</ul>
<hr />
<h4 id="6-case-study"><strong>6. Case Study</strong></h4>
<p><strong>Ví dụ thực tế</strong>: 
Một công ty thương mại điện tử sử dụng ALB để quản lý lưu lượng người dùng mua sắm trực tuyến:
- <strong>Routing</strong>: Phân phối lưu lượng <code>/checkout</code> đến nhóm backend xử lý thanh toán và <code>/catalog</code> đến nhóm xử lý hiển thị sản phẩm.
- <strong>HTTPS</strong>: Dùng ALB với chứng chỉ SSL do AWS Certificate Manager cung cấp để bảo mật lưu lượng.
- <strong>Tự động mở rộng</strong>: Tích hợp với Auto Scaling để đảm bảo hệ thống có thể xử lý tăng trưởng đột ngột trong dịp khuyến mãi.</p>
<p><img alt="LB-type" src="../image/LB-type.png" /></p>
<ul>
<li>Load Balancer là 1 dịch vụ Cross Zone, lưu ý khi tạo ELB nhớ chọn tối đa số
  zone có thể chọn. 
  Nếu Load Balancer được tạo không chọn zone có chứa ec2 instance, khi
  access sẽ bị lỗi không kết nối được (502 Bad Gateway</li>
</ul>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.copy", "content.action.edit"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>