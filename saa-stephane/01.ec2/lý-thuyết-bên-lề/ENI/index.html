
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>ENI - DraDoc</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#moi-eni-co-the-chua" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="DraDoc" class="md-header__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DraDoc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ENI
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ tối"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ tối" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ sáng"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ sáng" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="DraDoc" class="md-nav__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DraDoc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#moi-eni-co-the-chua" class="md-nav__link">
    <span class="md-ellipsis">
      Mỗi ENI có thể chứa:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vi-du" class="md-nav__link">
    <span class="md-ellipsis">
      Ví dụ:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cau-hoi-thuong-gap" class="md-nav__link">
    <span class="md-ellipsis">
      Câu hỏi thường gặp:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tom-lai" class="md-nav__link">
    <span class="md-ellipsis">
      Tóm lại:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chi-tiet-ve-failover-voi-2-eni-va-ip-khong-oi" class="md-nav__link">
    <span class="md-ellipsis">
      Chi tiết về Failover với 2 ENI và IP không đổi
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tai-sao-ip-khong-oi-khi-failover" class="md-nav__link">
    <span class="md-ellipsis">
      Tại sao IP không đổi khi failover?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quy-trinh-failover-voi-eni" class="md-nav__link">
    <span class="md-ellipsis">
      Quy trình Failover với ENI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quy trình Failover với ENI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trang-thai-ban-au" class="md-nav__link">
    <span class="md-ellipsis">
      Trạng thái ban đầu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#khi-xay-ra-su-co" class="md-nav__link">
    <span class="md-ellipsis">
      Khi xảy ra sự cố
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sau-khi-failover" class="md-nav__link">
    <span class="md-ellipsis">
      Sau khi Failover
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#so-sanh-ip-trong-failover" class="md-nav__link">
    <span class="md-ellipsis">
      So sánh IP trong Failover
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ung-dung-cua-failover-voi-eni" class="md-nav__link">
    <span class="md-ellipsis">
      Ứng dụng của Failover với ENI
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/lelongc/aws/edit/main/my-website/docs/saa-stephane/01.ec2/lý-thuyết-bên-lề/ENI.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


  <h1>ENI</h1>

<p>Đúng vậy! Một <strong>Elastic Network Interface (ENI)</strong> có thể có <strong>nhiều địa chỉ Private IPv4</strong>, cụ thể như sau:</p>
<h3 id="moi-eni-co-the-chua"><strong>Mỗi ENI có thể chứa:</strong></h3>
<ol>
<li>
<p><strong>Primary Private IPv4</strong>:</p>
</li>
<li>
<p>Đây là địa chỉ <strong>Private IPv4 chính</strong> được gắn với ENI khi nó được tạo. Primary Private IPv4 là bắt buộc.</p>
</li>
<li>
<p><strong>Secondary Private IPv4</strong>:</p>
</li>
<li>Ngoài địa chỉ chính, ENI có thể được gắn thêm <strong>một hoặc nhiều Secondary Private IPv4</strong>.</li>
<li>Các địa chỉ này rất hữu ích trong một số trường hợp, ví dụ:<ul>
<li>Một instance phục vụ nhiều ứng dụng, mỗi ứng dụng có một Private IP riêng.</li>
<li>Bạn cần di chuyển một Secondary Private IP sang một ENI khác khi failover.</li>
</ul>
</li>
</ol>
<hr />
<h3 id="vi-du"><strong>Ví dụ:</strong></h3>
<ul>
<li>Một ENI có:</li>
<li><strong>Primary Private IPv4</strong>: <code>10.0.1.10</code>.</li>
<li><strong>Secondary Private IPv4</strong>: <code>10.0.1.11</code>, <code>10.0.1.12</code>.</li>
</ul>
<p>Trên instance:</p>
<ul>
<li>Địa chỉ <code>10.0.1.10</code> sẽ xuất hiện trên interface <code>eth0</code> (mặc định).</li>
<li>Địa chỉ <code>10.0.1.11</code> và <code>10.0.1.12</code> sẽ được cấu hình thêm.</li>
</ul>
<hr />
<h3 id="cau-hoi-thuong-gap"><strong>Câu hỏi thường gặp:</strong></h3>
<ol>
<li>
<p><strong>Tại sao cần nhiều Private IPv4 trên ENI?</strong></p>
</li>
<li>
<p>Giúp hỗ trợ nhiều ứng dụng hoặc dịch vụ trên một instance (mỗi ứng dụng dùng một IP riêng).</p>
</li>
<li>
<p>Cho phép failover dễ dàng: bạn có thể chuyển một Secondary Private IP sang một ENI hoặc EC2 khác.</p>
</li>
<li>
<p><strong>Giới hạn số lượng Private IPv4 trên ENI?</strong></p>
</li>
<li>
<p>Số lượng địa chỉ Private IPv4 tối đa trên ENI phụ thuộc vào loại instance EC2 mà ENI gắn vào. Ví dụ:</p>
<ul>
<li>Loại instance nhỏ (e.g., <code>t2.micro</code>) có thể chỉ hỗ trợ 2–3 địa chỉ Private IPv4.</li>
<li>Loại lớn hơn (e.g., <code>m5.large</code>) hỗ trợ nhiều hơn.</li>
</ul>
</li>
<li>
<p><strong>Các địa chỉ Private IPv4 này được quản lý thế nào?</strong></p>
</li>
<li>Bạn có thể thêm hoặc xóa Secondary Private IPv4 bất cứ lúc nào thông qua AWS Management Console, CLI, hoặc API.</li>
<li><strong>Primary Private IPv4</strong> thì không thể xóa hoặc thay đổi.</li>
</ol>
<hr />
<h3 id="tom-lai"><strong>Tóm lại</strong>:</h3>
<ul>
<li><strong>Một ENI</strong> có thể có nhiều địa chỉ <strong>Private IPv4</strong> (1 Primary + nhiều Secondary).</li>
<li>Sử dụng nhiều Private IPv4 giúp tối ưu hóa tài nguyên và hỗ trợ failover trong nhiều tình huống.</li>
</ul>
<h3 id="chi-tiet-ve-failover-voi-2-eni-va-ip-khong-oi"><strong>Chi tiết về Failover với 2 ENI và IP không đổi</strong></h3>
<p>Failover với <strong>Elastic Network Interface (ENI)</strong> hoạt động theo cách giữ nguyên địa chỉ IP, giúp các ứng dụng và dịch vụ không nhận thấy thay đổi, kể cả khi có sự cố. Để hiểu rõ hơn, hãy xem chi tiết dưới đây:</p>
<hr />
<h3 id="tai-sao-ip-khong-oi-khi-failover"><strong>Tại sao IP không đổi khi failover?</strong></h3>
<ol>
<li>
<p><strong>ENI giữ địa chỉ IP:</strong></p>
</li>
<li>
<p>Một ENI luôn gắn liền với <strong>Private IPv4</strong> và (nếu có) <strong>Elastic/Public IPv4</strong>.</p>
</li>
<li>
<p>Khi bạn chuyển ENI từ một EC2 Instance sang một EC2 Instance khác:</p>
<ul>
<li><strong>Private IP</strong> và <strong>Elastic IP</strong> (nếu có) của ENI được giữ nguyên.</li>
<li>Ứng dụng vẫn kết nối đến IP này mà không nhận ra rằng ENI đã được di chuyển.</li>
</ul>
</li>
<li>
<p><strong>Public IP động không di chuyển:</strong></p>
</li>
<li>Nếu EC2 chỉ dùng Public IP động (gán tự động bởi AWS), địa chỉ này <strong>không di chuyển</strong> khi failover.</li>
<li>Nhưng nếu bạn sử dụng <strong>Elastic IP</strong> (IP Public tĩnh do bạn quản lý), Elastic IP sẽ được di chuyển theo ENI và không thay đổi.</li>
</ol>
<hr />
<h3 id="quy-trinh-failover-voi-eni"><strong>Quy trình Failover với ENI</strong></h3>
<p>Giả sử bạn có 2 ENI trong cùng một AZ:</p>
<h4 id="trang-thai-ban-au"><strong>Trạng thái ban đầu</strong></h4>
<ul>
<li><strong>ENI chính (Primary ENI)</strong> gắn với Instance A:</li>
<li>Địa chỉ Private IP: <code>10.0.1.100</code>.</li>
<li>Elastic IP: <code>54.210.120.5</code> (nếu cần public).</li>
<li><strong>ENI phụ (Secondary ENI)</strong> chưa hoạt động hoặc gắn với Instance B (dự phòng).</li>
</ul>
<h4 id="khi-xay-ra-su-co"><strong>Khi xảy ra sự cố</strong></h4>
<ol>
<li>Instance A gặp lỗi, không thể truy cập.</li>
<li>ENI chính được tách ra khỏi Instance A.</li>
<li>ENI chính được gắn vào Instance B trong cùng AZ.</li>
</ol>
<h4 id="sau-khi-failover"><strong>Sau khi Failover</strong></h4>
<ul>
<li>Instance B giờ có <strong>Private IP</strong> <code>10.0.1.100</code> và Elastic IP <code>54.210.120.5</code>.</li>
<li>Các ứng dụng, client, hoặc dịch vụ bên ngoài vẫn kết nối qua các IP này mà không nhận ra thay đổi.</li>
</ul>
<hr />
<p><strong>Hệ thống cơ sở dữ liệu Private</strong></p>
<ul>
<li>
<p><strong>Kiến trúc:</strong></p>
</li>
<li>
<p>Một cơ sở dữ liệu MySQL dùng Private IP <code>10.0.1.50</code>.</p>
</li>
<li>
<p>ENI chính gắn với Instance A, các ứng dụng truy cập qua Private IP này.</p>
</li>
<li>
<p><strong>Khi xảy ra sự cố:</strong></p>
</li>
<li>Instance A bị lỗi, ENI chính được chuyển sang Instance B.</li>
<li>Private IP <code>10.0.1.50</code> vẫn hoạt động, các ứng dụng không cần thay đổi cấu hình.</li>
</ul>
<hr />
<h3 id="so-sanh-ip-trong-failover"><strong>So sánh IP trong Failover</strong></h3>
<table>
<thead>
<tr>
<th><strong>Loại IP</strong></th>
<th><strong>Di chuyển với ENI</strong></th>
<th><strong>Lưu ý</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Private IPv4</strong></td>
<td>Có</td>
<td>Địa chỉ Private IP gắn với ENI sẽ di chuyển cùng ENI.</td>
</tr>
<tr>
<td><strong>Public IP (động)</strong></td>
<td>Không</td>
<td>Nếu EC2 dùng Public IP động, địa chỉ này không di chuyển.</td>
</tr>
<tr>
<td><strong>Elastic IP</strong></td>
<td>Có</td>
<td>Elastic IP di chuyển cùng ENI, thích hợp cho các ứng dụng public.</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="ung-dung-cua-failover-voi-eni"><strong>Ứng dụng của Failover với ENI</strong></h3>
<ol>
<li><strong>Tính sẵn sàng cao:</strong><br />
   Duy trì kết nối mạng ổn định, ngay cả khi EC2 Instance gặp sự cố.</li>
<li><strong>Cấu trúc mạng linh hoạt:</strong><br />
   ENI có thể di chuyển giữa các instance trong cùng AZ, cho phép thay thế instance dễ dàng.</li>
<li><strong>Quản lý IP hiệu quả:</strong><br />
   Elastic IP hoặc Private IP cố định giúp ứng dụng không cần cập nhật cấu hình.</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.copy", "content.action.edit"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>