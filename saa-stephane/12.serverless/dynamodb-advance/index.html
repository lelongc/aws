
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Dynamodb advance - DraDoc</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-dynamodb-accelerator-dax" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="DraDoc" class="md-header__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DraDoc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Dynamodb advance
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ tối"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ tối" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Chuyển sang chế độ sáng"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Chuyển sang chế độ sáng" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="DraDoc" class="md-nav__button md-logo" aria-label="DraDoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DraDoc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lelongc/aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-dynamodb-accelerator-dax" class="md-nav__link">
    <span class="md-ellipsis">
      1. DynamoDB Accelerator (DAX)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-dynamodb-streams" class="md-nav__link">
    <span class="md-ellipsis">
      2. DynamoDB Streams
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kien-truc-xu-ly-luong-stream-processing-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Kiến trúc xử lý luồng (Stream Processing Architecture)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ket-luan" class="md-nav__link">
    <span class="md-ellipsis">
      Kết luận
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-bang-toan-cau-global-tables" class="md-nav__link">
    <span class="md-ellipsis">
      1. Bảng Toàn Cầu (Global Tables)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-thoi-gian-song-time-to-live-ttl" class="md-nav__link">
    <span class="md-ellipsis">
      2. Thời Gian Sống (Time to Live - TTL)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-sao-luu-va-khoi-phuc-backup-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      3. Sao Lưu và Khôi Phục (Backup &amp; Recovery)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Sao Lưu và Khôi Phục (Backup &amp; Recovery)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-sao-luu-lien-tuc-continuous-backup-voi-phuc-hoi-theo-iem-thoi-gian-point-in-time-recovery-pitr" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Sao lưu liên tục (Continuous Backup) với Phục hồi Theo Điểm Thời Gian (Point-in-Time Recovery - PITR)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-sao-luu-theo-nhu-cau-on-demand-backup" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Sao lưu theo nhu cầu (On-Demand Backup)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-tich-hop-dynamodb-voi-amazon-s3" class="md-nav__link">
    <span class="md-ellipsis">
      4. Tích Hợp DynamoDB với Amazon S3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Tích Hợp DynamoDB với Amazon S3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-xuat-du-lieu-export" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Xuất Dữ Liệu (Export)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-nhap-du-lieu-import" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Nhập Dữ Liệu (Import)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-tong-ket" class="md-nav__link">
    <span class="md-ellipsis">
      5. Tổng Kết
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/lelongc/aws/edit/main/my-website/docs/saa-stephane/12.serverless/dynamodb-advance.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


  <h1>Dynamodb advance</h1>

<h3 id="1-dynamodb-accelerator-dax"><strong>1. DynamoDB Accelerator (DAX)</strong></h3>
<p><img alt="alt text" src="../image/DAX.png" /></p>
<p>DAX là một lớp bộ nhớ đệm (cache) trong bộ nhớ được thiết kế riêng cho DynamoDB. Nó giúp cải thiện hiệu suất đọc bằng cách giảm độ trễ và giảm tải cho các bảng DynamoDB. Dưới đây là các điểm chính về DAX:</p>
<ul>
<li><strong>Mục đích</strong>: DAX được sử dụng khi bạn có nhiều yêu cầu đọc (read-heavy workload) trên bảng DynamoDB, giúp giảm tình trạng tắc nghẽn bằng cách lưu trữ dữ liệu trong bộ nhớ đệm.</li>
<li><strong>Độ trễ cực thấp</strong>: DAX cung cấp độ trễ chỉ trong micro giây cho dữ liệu được lưu trong cache.</li>
<li><strong>Tương thích với DynamoDB API</strong>: Bạn không cần thay đổi logic ứng dụng của mình vì DAX tương thích hoàn toàn với các API hiện có của DynamoDB.</li>
<li><strong>Cách hoạt động</strong>:</li>
<li>Bạn tạo một cụm DAX gồm các nút cache.</li>
<li>Ứng dụng của bạn kết nối với cụm DAX thay vì kết nối trực tiếp với DynamoDB.</li>
<li>Cụm DAX sẽ tự động kết nối với bảng DynamoDB của bạn và xử lý các yêu cầu đọc.</li>
<li><strong>Thời gian sống của cache (TTL)</strong>: Mặc định là 5 phút, nhưng bạn có thể điều chỉnh thời gian này.</li>
<li>
<p><strong>So sánh với ElastiCache</strong>:
  <img alt="alt text" src="../image/DAX-ElastiCache.png" /></p>
</li>
<li>
<p>DAX được thiết kế riêng cho DynamoDB và phù hợp để cache các đối tượng riêng lẻ hoặc kết quả truy vấn.</p>
</li>
<li>ElastiCache phù hợp hơn cho việc lưu trữ kết quả tính toán phức tạp hoặc dữ liệu tổng hợp (aggregation).</li>
</ul>
<hr />
<h3 id="2-dynamodb-streams"><strong>2. DynamoDB Streams</strong></h3>
<p><img alt="alt text" src="../image/DynamoDB-Streams.png" />
DynamoDB Streams là một tính năng cho phép bạn theo dõi mọi thay đổi (tạo, cập nhật, xóa) trên bảng DynamoDB theo thời gian thực. Dưới đây là các điểm chính về DynamoDB Streams:</p>
<ul>
<li><strong>Mục đích</strong>: Phản ứng với các thay đổi trên bảng DynamoDB trong thời gian thực.</li>
<li><strong>Các trường hợp sử dụng phổ biến</strong>:</li>
<li>Gửi email chào mừng khi có người dùng mới đăng ký.</li>
<li>Phân tích sử dụng theo thời gian thực.</li>
<li>Sao chép dữ liệu sang các bảng phụ (derivative tables).</li>
<li>Triển khai sao chép liên vùng (cross-region replication).</li>
<li>Kích hoạt AWS Lambda khi có thay đổi trên bảng DynamoDB.</li>
<li><strong>Hai loại xử lý luồng</strong>:</li>
<li><strong>DynamoDB Streams</strong>:<ul>
<li>Thời gian lưu trữ dữ liệu: 24 giờ.</li>
<li>Số lượng consumer (người tiêu dùng) bị giới hạn.</li>
<li>Thường được sử dụng với AWS Lambda để kích hoạt các hàm.</li>
</ul>
</li>
<li><strong>Kinesis Data Streams</strong>:<ul>
<li>Thời gian lưu trữ dữ liệu lên đến 1 năm.</li>
<li>Hỗ trợ số lượng consumer lớn hơn.</li>
<li>Cung cấp nhiều cách xử lý dữ liệu hơn, chẳng hạn như Kinesis Data Analytics, Kinesis Data Firehose, Glue Streaming ETLs, v.v.</li>
</ul>
</li>
</ul>
<hr />
<h3 id="kien-truc-xu-ly-luong-stream-processing-architecture"><strong>Kiến trúc xử lý luồng (Stream Processing Architecture)</strong></h3>
<p>Dưới đây là một ví dụ về kiến trúc xử lý luồng với DynamoDB Streams và Kinesis Data Streams:</p>
<ol>
<li>
<p><strong>DynamoDB Streams</strong>:</p>
</li>
<li>
<p>Ứng dụng thực hiện các thao tác tạo, cập nhật, xóa trên bảng DynamoDB.</p>
</li>
<li>Các thay đổi được ghi lại trong DynamoDB Streams.</li>
<li>Bạn có thể sử dụng AWS Lambda để xử lý các sự kiện từ DynamoDB Streams.</li>
<li>
<p>Hoặc sử dụng DynamoDB KCL Adapter để xử lý dữ liệu trên EC2 hoặc Lambda.</p>
</li>
<li>
<p><strong>Kinesis Data Streams</strong>:</p>
</li>
<li>Các thay đổi từ DynamoDB được gửi trực tiếp đến Kinesis Data Streams.</li>
<li>Từ Kinesis, bạn có thể sử dụng Kinesis Data Firehose để gửi dữ liệu đến:<ul>
<li><strong>Amazon Redshift</strong> để phân tích.</li>
<li><strong>Amazon S3</strong> để lưu trữ.</li>
<li><strong>Amazon OpenSearch</strong> để tìm kiếm và lập chỉ mục.</li>
</ul>
</li>
</ol>
<hr />
<h3 id="ket-luan"><strong>Kết luận</strong></h3>
<ul>
<li><strong>DAX</strong> là giải pháp tối ưu để cải thiện hiệu suất đọc cho DynamoDB với độ trễ cực thấp.</li>
<li><strong>DynamoDB Streams</strong> và <strong>Kinesis Data Streams</strong> là các công cụ mạnh mẽ để xử lý dữ liệu theo thời gian thực từ DynamoDB, phù hợp cho các trường hợp như phân tích, sao chép dữ liệu, hoặc kích hoạt các quy trình tự động.</li>
</ul>
<hr />
<h3 id="1-bang-toan-cau-global-tables"><strong>1. Bảng Toàn Cầu (Global Tables)</strong></h3>
<p><img alt="alt text" src="../image/Global-Tables.png" /></p>
<ul>
<li><strong>Định nghĩa:</strong> Bảng toàn cầu cho phép sao chép dữ liệu giữa nhiều khu vực AWS (Regions) để giảm độ trễ và tăng độ tin cậy cho ứng dụng.</li>
<li><strong>Đặc điểm:</strong></li>
<li><strong>Replication Hai Chiều (Two-Way Replication):</strong> Dữ liệu được đồng bộ từ bất kỳ khu vực nào và thay đổi được phản ánh trong mọi khu vực khác.</li>
<li><strong>Active-Active Replication:</strong> Ứng dụng có thể vừa đọc vừa ghi dữ liệu ở bất kỳ khu vực nào.</li>
<li><strong>Trường hợp sử dụng:</strong></li>
<li>Ứng dụng toàn cầu cần giảm độ trễ truy cập dữ liệu.</li>
<li>Đảm bảo dữ liệu sẵn sàng cao (High Availability) và khả năng chống chịu thảm họa.</li>
<li><strong>Yêu cầu:</strong></li>
<li><strong>Bật DynamoDB Streams:</strong> Streams ghi nhận mọi thay đổi trên bảng và làm cơ sở để sao chép dữ liệu giữa các khu vực.</li>
</ul>
<hr />
<h3 id="2-thoi-gian-song-time-to-live-ttl"><strong>2. Thời Gian Sống (Time to Live - TTL)</strong></h3>
<p><img alt="alt text" src="../image/TTL.png" /></p>
<ul>
<li><strong>Định nghĩa:</strong> TTL cho phép tự động xóa các mục trong bảng sau khi một mốc thời gian hết hạn.</li>
<li><strong>Cách hoạt động:</strong></li>
<li>Bạn thêm một thuộc tính (ví dụ: <code>ExpTime</code>) chứa dấu thời gian Epoch (Unix timestamp).</li>
<li>Khi thời gian hiện tại vượt quá giá trị này, mục dữ liệu sẽ hết hạn.</li>
<li>DynamoDB sẽ tự động đánh dấu mục cần xóa và xóa hoàn toàn sau đó.</li>
<li><strong>Trường hợp sử dụng:</strong></li>
<li><strong>Lưu trữ dữ liệu ngắn hạn:</strong> Chỉ giữ lại những mục dữ liệu mới nhất.</li>
<li><strong>Tuân thủ quy định pháp lý:</strong> Ví dụ, xóa dữ liệu sau 2 năm.</li>
<li><strong>Quản lý phiên làm việc (Session Handling):</strong><ul>
<li>Khi người dùng đăng nhập vào trang web, thông tin phiên (session) sẽ được lưu trong DynamoDB trong khoảng 2 giờ.</li>
<li>Nếu phiên không được gia hạn, dữ liệu sẽ tự động bị xóa.</li>
</ul>
</li>
</ul>
<hr />
<h3 id="3-sao-luu-va-khoi-phuc-backup-recovery"><strong>3. Sao Lưu và Khôi Phục (Backup &amp; Recovery)</strong></h3>
<h4 id="31-sao-luu-lien-tuc-continuous-backup-voi-phuc-hoi-theo-iem-thoi-gian-point-in-time-recovery-pitr"><strong>3.1. Sao lưu liên tục (Continuous Backup) với Phục hồi Theo Điểm Thời Gian (Point-in-Time Recovery - PITR)</strong></h4>
<ul>
<li><strong>Thời gian lưu trữ:</strong> Tối đa 35 ngày.</li>
<li><strong>Cách hoạt động:</strong></li>
<li>Khi bật PITR, DynamoDB ghi nhận mọi thay đổi trên bảng.</li>
<li>Có thể khôi phục dữ liệu về bất kỳ thời điểm nào trong khoảng 35 ngày.</li>
<li><strong>Quá trình khôi phục:</strong></li>
<li>Tạo một bảng mới với dữ liệu đã được khôi phục.</li>
</ul>
<h4 id="32-sao-luu-theo-nhu-cau-on-demand-backup"><strong>3.2. Sao lưu theo nhu cầu (On-Demand Backup)</strong></h4>
<ul>
<li><strong>Thời gian lưu trữ:</strong> Lưu trữ vô hạn cho đến khi người dùng xóa.</li>
<li><strong>Cách hoạt động:</strong></li>
<li>Người dùng có thể sao lưu bất kỳ lúc nào theo nhu cầu.</li>
<li>Không ảnh hưởng đến hiệu suất hoặc độ trễ của bảng.</li>
<li><strong>Quản lý nâng cao:</strong></li>
<li>Sử dụng <strong>AWS Backup Service</strong> để thiết lập chính sách vòng đời cho sao lưu và sao chép sao lưu giữa các khu vực.</li>
</ul>
<hr />
<h3 id="4-tich-hop-dynamodb-voi-amazon-s3"><strong>4. Tích Hợp DynamoDB với Amazon S3</strong></h3>
<p><img alt="alt text" src="../image/DynamoDB-s3.png" /></p>
<h4 id="41-xuat-du-lieu-export"><strong>4.1. Xuất Dữ Liệu (Export)</strong></h4>
<ul>
<li><strong>Yêu cầu:</strong></li>
<li>Cần bật <strong>Point-in-Time Recovery (PITR)</strong> trước khi xuất bảng DynamoDB.</li>
<li><strong>Cách hoạt động:</strong></li>
<li>Có thể xuất dữ liệu trong khoảng thời gian 35 ngày qua.</li>
<li>Dữ liệu xuất ra ở định dạng <strong>DynamoDB JSON</strong> hoặc <strong>ION format</strong>.</li>
<li><strong>Trường hợp sử dụng:</strong></li>
<li><strong>Phân tích dữ liệu:</strong> Kết hợp với Amazon Athena để truy vấn dữ liệu.</li>
<li><strong>Lưu trữ lâu dài:</strong> Lưu giữ ảnh chụp dữ liệu để kiểm toán.</li>
<li><strong>Biến đổi dữ liệu:</strong> Thực hiện ETL trước khi nhập lại vào bảng DynamoDB mới.</li>
</ul>
<h4 id="42-nhap-du-lieu-import"><strong>4.2. Nhập Dữ Liệu (Import)</strong></h4>
<ul>
<li><strong>Định dạng nhập:</strong> <strong>CSV, JSON, ION</strong>.</li>
<li><strong>Cách hoạt động:</strong></li>
<li>Dữ liệu từ S3 có thể được nhập trở lại DynamoDB mà không tiêu tốn khả năng ghi (write capacity).</li>
<li>Quá trình nhập sẽ tạo ra một bảng mới.</li>
<li><strong>Xử lý lỗi:</strong> Mọi lỗi trong quá trình nhập sẽ được ghi lại trong <strong>CloudWatch Logs</strong>.</li>
</ul>
<hr />
<h3 id="5-tong-ket"><strong>5. Tổng Kết</strong></h3>
<p>DynamoDB là một dịch vụ cơ sở dữ liệu NoSQL mạnh mẽ với nhiều tính năng như:</p>
<ul>
<li><strong>Global Tables</strong> cho ứng dụng toàn cầu.</li>
<li><strong>TTL</strong> giúp quản lý dữ liệu ngắn hạn và tuân thủ quy định pháp lý.</li>
<li><strong>Backup &amp; Recovery</strong> linh hoạt với PITR và On-Demand Backup.</li>
<li><strong>Tích hợp với S3</strong> giúp mở rộng khả năng phân tích và quản lý dữ liệu.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>